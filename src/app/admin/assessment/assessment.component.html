<app-header></app-header>
<div class="container">
  <div class="col mb-3 d-flex justify-content-end">
    <button type="button" (click)="addDialog()" pButton label="Add question"></button>
  </div>
  <div class="grid">

    <!-- <div class="col-fixed" style="width:100px">Questions</div> -->
    <div class="col">

      <p-card>
        <div class="d-flex justify-content-end mt-2">
          <button pButton pRipple type="button" pTooltip="Edit question" icon="pi pi-pencil" (click)="editFormDialog()"
            class="p-button-rounded " style="height: 2rem; width: 2rem;"></button>

          <button pButton pRipple type="button" pTooltip="Delete quiz" icon="pi pi-times"
            class="p-button-rounded ms-1 p-button-danger " style="height: 2rem; width: 2rem;"></button>

        </div>
        <h2>Q: Software is defined as ___________</h2><br>
        <p> 1. set of programs, documentation & configuration of data<br>
          2. set of programs<br>
          3. documentation and configuration of data<br>
          4. None of the mentioned</p><br>

        <div class="grid pl-2">
          <div class="col-6">A) 4</div>
          <div class="col-6">B) 2</div>
          <div class="col-6">C) 3</div>
          <div class="col-6">D) 1</div>
        </div>

      </p-card>
    </div>


  </div>
  <div>
    {{editFormGroup.value.option1}}
  </div>


  <!-- Add dialog start -->
  <p-dialog header="Add Question" [(visible)]="addDisplay" [style]="{width: '50vw'}" styleClass="active">

    <hr>
    <form [formGroup]="addFormGroup" (ngSubmit)="onSubmit()">
      <div class="p-fluid grid">
        <div class="field mt-4 w-100">
          <label for="title">Question</label>
          <span class="p-float-label">
            <p-editor formControlName="question" [style]="{'height':'320px'}"></p-editor>

            <!-- <input type="text" class="bg-light-grey input-shadow w-100 p-inputtext" name="question"
                            class="form-control" required formControlName="question" pInputText placeholder="Question"> -->
            <small class="p-error block"
              *ngIf="addFormGroup.get('question')?.invalid && (addFormGroup.get('question')?.dirty && addFormGroup.get('question')?.touched)">
              Question
              is required</small>
          </span>

        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option1</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" style="resize: none;"
              cols="30" formControlName="option1" pInputText>
            <small class="p-error block"
              *ngIf="addFormGroup.get('option1')?.invalid && (addFormGroup.get('option1')?.dirty && addFormGroup.get('option1')?.touched)">
              Option1
              name is required</small>
          </span>
        </div>

        <div class="field mt-4 w-50">
          <label for="title">Option2</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option2"
              pInputText>
            <small class="p-error block"
              *ngIf="addFormGroup.get('option2')?.invalid && (addFormGroup.get('option2')?.dirty && addFormGroup.get('option2')?.touched)">
              Option2 is required</small>
          </span>
        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option3</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option3"
              pInputText>
            <small class="p-error block"
              *ngIf="addFormGroup.get('option3')?.invalid && (addFormGroup.get('option3')?.dirty && addFormGroup.get('option3')?.touched)">
              Option3 is required</small>
          </span>
        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option4</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option4"
              pInputText>
            <small class="p-error block"
              *ngIf="addFormGroup.get('option4')?.invalid && (addFormGroup.get('option4')?.dirty && addFormGroup.get('option4')?.touched)">
              Option4 is required</small>
          </span>
        </div>
        <div class="row  mt-4">

        </div>

      </div>
      <div class="d-flex justify-content-end mt-2">
        <button [disabled]="addFormGroup.invalid" type="button" class="btn btn-success me-2" (click)="onSubmit()"><i
            class="pi pi-save me-2 cursor-pointer"></i>Save</button>
        <button (click)="closeDialog()" type="button" class="btn btn-dark"><i
            class="pi pi-delete-left me-2 cursor-pointer"></i>Cancel</button>
      </div>
    </form>
  </p-dialog>
  <!-- Add dialog end -->


  <!-- Edit dialog start -->
  <p-dialog header="Edit Question" [(visible)]="editFormDisplay" [style]="{width: '50vw'}" styleClass="active">

    <hr>
    <form [formGroup]="editFormGroup" (ngSubmit)="onUpdate()">
      <div class="p-fluid grid">
        <div class="field mt-4 w-100">
          <label for="title">Question</label>
          <span class="p-float-label">
            <p-editor formControlName="question" [style]="{'height':'320px'}"></p-editor>

            <!-- <input type="text" class="bg-light-grey input-shadow w-100 p-inputtext" name="question"
                                    class="form-control" required formControlName="question" pInputText placeholder="Question"> -->
            <small class="p-error block"
              *ngIf="editFormGroup.get('question')?.invalid && (editFormGroup.get('question')?.dirty && editFormGroup.get('question')?.touched)">
              Question
              is required</small>
          </span>

        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option1</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" style="resize: none;"
              cols="30" formControlName="option1" pInputText>
            <small class="p-error block"
              *ngIf="editFormGroup.get('option1')?.invalid && (editFormGroup.get('option1')?.dirty && editFormGroup.get('option1')?.touched)">
              Option1
              name is required</small>
          </span>
        </div>

        <div class="field mt-4 w-50">
          <label for="title">Option2</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option2"
              pInputText>
            <small class="p-error block"
              *ngIf="editFormGroup.get('option2')?.invalid && (editFormGroup.get('option2')?.dirty && editFormGroup.get('option2')?.touched)">
              Option2 is required</small>
          </span>
        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option3</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option3"
              pInputText>
            <small class="p-error block"
              *ngIf="editFormGroup.get('option3')?.invalid && (editFormGroup.get('option3')?.dirty && editFormGroup.get('option3')?.touched)">
              Option3 is required</small>
          </span>
        </div>
        <div class="field mt-4 w-50">
          <label for="title">Option4</label>
          <span class="p-float-label">
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option4"
              pInputText>
            <small class="p-error block"
              *ngIf="editFormGroup.get('option4')?.invalid && (editFormGroup.get('option4')?.dirty && editFormGroup.get('option4')?.touched)">
              Option4 is required</small>
          </span>
        </div>
        <div class="row  mt-4">

        </div>

      </div>
      <div class="d-flex justify-content-end mt-2">
        <button [disabled]="editFormGroup.invalid" type="button" class="btn btn-success me-2" (click)="onUpdate()"><i
            class="pi pi-save me-2 cursor-pointer"></i>Update</button>
        <button (click)="colseEditDialog()" type="button" class="btn btn-dark"><i
            class="pi pi-delete-left me-2 cursor-pointer"></i>Cancel</button>
      </div>
    </form>
  </p-dialog>
  <!-- Edit dialog end -->


</div>
