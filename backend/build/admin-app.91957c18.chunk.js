(self.webpackChunklms=self.webpackChunklms||[]).push([[5538],{95423:(b,f,e)=>{var t={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function u(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+o+"'");throw m.code="MODULE_NOT_FOUND",m});var v=t[o],g=v[0];return e.e(v[1]).then(()=>e.t(g,19))}u.keys=()=>Object.keys(t),u.id=95423,b.exports=u},42243:(b,f,e)=>{"use strict";e.d(f,{Z:()=>Re});var t=e(87561),u=e(79174),o=e(67294),v=e(86896),g=e(45697),m=e.n(g),T=e(185),A=e(41580),M=e(75515),x=e(11047),W=e(16364),h=e(29728),I=e(94649),y=e(36206),w=e(79690);const B=({onSubmit:H,schema:je})=>{const{formatMessage:ne}=(0,v.Z)();return o.createElement(y.ZP,null,o.createElement(T.o,null,o.createElement(y.bU,null,o.createElement(I.J9,{enableReinitialize:!0,initialValues:{email:""},onSubmit:H,validationSchema:je,validateOnChange:!1},({values:ke,errors:Se,handleChange:Xe})=>o.createElement(u.l0,{noValidate:!0},o.createElement(y.sg,null,o.createElement(w.Z,null),o.createElement(A.x,{paddingTop:6,paddingBottom:7},o.createElement(M.Z,{as:"h1",variant:"alpha"},ne({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Se.errorMessage&&o.createElement(M.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ne({id:Se.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(x.k,{direction:"column",alignItems:"stretch",gap:6},o.createElement(W.o,{error:Se.email?ne({id:Se.email,defaultMessage:"This email is invalid."}):"",value:ke.email,onChange:Xe,label:ne({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:ne({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),o.createElement(h.z,{type:"submit",fullWidth:!0},ne({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),o.createElement(x.k,{justifyContent:"center"},o.createElement(A.x,{paddingTop:4},o.createElement(u.rU,{to:"/auth/login"},ne({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};B.defaultProps={onSubmit:H=>H.preventDefault()},B.propTypes={onSubmit:m().func,schema:m().shape({type:m().string.isRequired}).isRequired};const R=B,F=()=>{const{formatMessage:H}=(0,v.Z)();return o.createElement(y.ZP,null,o.createElement(T.o,null,o.createElement(y.bU,null,o.createElement(y.sg,null,o.createElement(w.Z,null),o.createElement(A.x,{paddingTop:6,paddingBottom:7},o.createElement(M.Z,{as:"h1",variant:"alpha"},H({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),o.createElement(M.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),o.createElement(A.x,{paddingTop:4},o.createElement(M.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),o.createElement(x.k,{justifyContent:"center"},o.createElement(A.x,{paddingTop:4},o.createElement(u.rU,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},me=()=>{const{formatMessage:H}=(0,v.Z)(),ne=(0,u.aM)().get("info")||H({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return o.createElement(y.ZP,null,o.createElement(T.o,null,o.createElement(y.bU,null,o.createElement(y.sg,null,o.createElement(w.Z,null),o.createElement(A.x,{paddingTop:6,paddingBottom:7},o.createElement(M.Z,{as:"h1",variant:"alpha"},H({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),o.createElement(M.Z,null,ne),o.createElement(A.x,{paddingTop:4},o.createElement(M.Z,null,H({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),o.createElement(x.k,{justifyContent:"center"},o.createElement(A.x,{paddingTop:4},o.createElement(u.rU,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var C=e(88972),O=e(57557),P=e.n(O),ge=e(16550),oe=e(52861),ze=e(11276),a=e(74571),Ve=e(36213),ye=e(8934),Ie=e(94123),be=e(68070);const Me=C.ZP.a`
  color: ${({theme:H})=>H.colors.primary600};
`,Ze=(0,C.ZP)(W.o)`
  ::-ms-reveal {
    display: none;
  }
`,it=({authType:H,fieldsToDisable:je,noSignin:ne,onSubmit:ke,schema:Se})=>{const Xe=(0,u.lm)(),{push:ae}=(0,ge.k6)(),[Qe,pe]=(0,o.useState)(!1),[Ye,tt]=(0,o.useState)(!1),[we,Et]=(0,o.useState)(0),[Je,Ct]=(0,o.useState)({}),{trackUsage:nt}=(0,u.rS)(),{formatMessage:te}=(0,v.Z)(),vt=(0,u.aM)(),{formatAPIError:ot}=(0,u.So)(),_e=vt.get("registrationToken");(0,o.useEffect)(()=>{_e&&(async()=>{try{const{data:{data:z}}=await oe.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${_e}`);z&&Ct(z)}catch(z){const fe=ot(z);Xe({type:"warning",message:fe}),ae(`/auth/oops?info=${encodeURIComponent(fe)}`)}})()},[_e]);function ut(Ae){return Object.entries(Ae).reduce((z,[fe,De])=>{let le=De;return!["password","confirmPassword"].includes(fe)&&typeof De=="string"&&(le=le.trim()),z[fe]=le,z},{})}return o.createElement(y.ZP,null,o.createElement(y.bU,null,o.createElement(I.J9,{enableReinitialize:!0,initialValues:{firstname:Je.firstname||"",lastname:Je.lastname||"",email:Je.email||"",password:"",confirmPassword:"",registrationToken:_e||void 0,news:!1},onSubmit:async(Ae,z)=>{const fe=ut(Ae);try{await Se.validate(fe,{abortEarly:!1}),we>0&&H==="register-admin"&&nt("didSubmitWithErrorsFirstAdmin",{count:we.toString()}),ke(_e?{userInfo:P()(fe,["registrationToken"]),registrationToken:_e}:fe,z)}catch(De){const le=(0,u.CJ)(De);Et(we+1),z.setErrors(le)}},validateOnChange:!1},({values:Ae,errors:z,handleChange:fe})=>o.createElement(u.l0,{noValidate:!0},o.createElement(T.o,null,o.createElement(x.k,{direction:"column",alignItems:"stretch",gap:3},o.createElement(w.Z,null),o.createElement(M.Z,{as:"h1",variant:"alpha",textAlign:"center"},te({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"})),o.createElement(M.Z,{variant:"epsilon",textColor:"neutral600",textAlign:"center"},te({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."}))),o.createElement(x.k,{direction:"column",alignItems:"stretch",gap:6,marginTop:7},o.createElement(ze.r,{gap:4},o.createElement(a.P,{col:6},o.createElement(W.o,{name:"firstname",required:!0,value:Ae.firstname,error:z.firstname?te(z.firstname):void 0,onChange:fe,label:te({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),o.createElement(a.P,{col:6},o.createElement(W.o,{name:"lastname",value:Ae.lastname,onChange:fe,label:te({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),o.createElement(W.o,{name:"email",disabled:je.includes("email"),value:Ae.email,onChange:fe,error:z.email?te(z.email):void 0,required:!0,label:te({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),o.createElement(Ze,{name:"password",onChange:fe,value:Ae.password,error:z.password?te(z.password):void 0,endAction:o.createElement(be.Z,{onClick:De=>{De.preventDefault(),pe(le=>!le)},label:te(Qe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Qe?o.createElement(ye.Z,null):o.createElement(Ie.Z,null)),hint:te({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:te({id:"global.password",defaultMessage:"Password"}),type:Qe?"text":"password"}),o.createElement(Ze,{name:"confirmPassword",onChange:fe,value:Ae.confirmPassword,error:z.confirmPassword?te(z.confirmPassword):void 0,endAction:o.createElement(be.Z,{onClick:De=>{De.preventDefault(),tt(le=>!le)},label:te(Ye?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ye?o.createElement(ye.Z,null):o.createElement(Ie.Z,null)),required:!0,label:te({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ye?"text":"password"}),o.createElement(Ve.X,{onValueChange:De=>{fe({target:{value:De,name:"news"}})},value:Ae.news,name:"news","aria-label":"news"},te({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:o.createElement(Me,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},te({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:o.createElement(Me,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},te({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),o.createElement(h.z,{fullWidth:!0,size:"L",type:"submit"},te({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!ne&&o.createElement(A.x,{paddingTop:4},o.createElement(x.k,{justifyContent:"center"},o.createElement(u.rU,{label:"Auth.link.signin",to:"/auth/login"},te({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};it.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:H=>H.preventDefault()},it.propTypes={authType:m().string.isRequired,fieldsToDisable:m().array,noSignin:m().bool,onSubmit:m().func,schema:m().shape({validate:m().func.isRequired,type:m().string.isRequired}).isRequired};const lt=it,pt=(0,C.ZP)(W.o)`
  ::-ms-reveal {
    display: none;
  }
`,Te=({onSubmit:H,schema:je})=>{const[ne,ke]=(0,o.useState)(!1),[Se,Xe]=(0,o.useState)(!1),{formatMessage:ae}=(0,v.Z)();return o.createElement(y.ZP,null,o.createElement(T.o,null,o.createElement(y.bU,null,o.createElement(I.J9,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:H,validationSchema:je,validateOnChange:!1},({values:Qe,errors:pe,handleChange:Ye})=>o.createElement(u.l0,{noValidate:!0},o.createElement(y.sg,null,o.createElement(w.Z,null),o.createElement(A.x,{paddingTop:6,paddingBottom:7},o.createElement(M.Z,{as:"h1",variant:"alpha"},ae({id:"global.reset-password",defaultMessage:"Reset password"}))),pe.errorMessage&&o.createElement(M.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ae({id:pe.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(x.k,{direction:"column",alignItems:"stretch",gap:6},o.createElement(pt,{name:"password",onChange:Ye,value:Qe.password,error:pe.password?ae({id:pe.password,defaultMessage:"This field is required."}):void 0,endAction:o.createElement(be.Z,{onClick:tt=>{tt.preventDefault(),ke(we=>!we)},label:ae(ne?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ne?o.createElement(ye.Z,null):o.createElement(Ie.Z,null)),hint:ae({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ae({id:"global.password",defaultMessage:"Password"}),type:ne?"text":"password"}),o.createElement(pt,{name:"confirmPassword",onChange:Ye,value:Qe.confirmPassword,error:pe.confirmPassword?ae({id:pe.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:o.createElement(be.Z,{onClick:tt=>{tt.preventDefault(),Xe(we=>!we)},label:ae(ne?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Se?o.createElement(ye.Z,null):o.createElement(Ie.Z,null)),required:!0,label:ae({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Se?"text":"password"}),o.createElement(h.z,{fullwidth:!0,type:"submit"},ae({id:"global.change-password",defaultMessage:"Change password"})))))),o.createElement(x.k,{justifyContent:"center"},o.createElement(A.x,{paddingTop:4},o.createElement(u.rU,{to:"/auth/login"},ae({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Te.defaultProps={onSubmit:H=>H.preventDefault()},Te.propTypes={onSubmit:m().func,schema:m().shape({type:m().string.isRequired}).isRequired};const ft=Te;var ht=function(){return window&&window.strapi&&window.strapi.isEE?e(9442).Z:e(73347).Z}(),At={"forgot-password":{Component:R,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(u.I0.email).required(u.I0.required)}),inputsPrefix:""},"forgot-password-success":{Component:F,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:ht,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(u.I0.email).required(u.I0.required),password:t.Z_().required(u.I0.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:me,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:lt,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(u.I0.required),lastname:t.Z_(),password:t.Z_().min(8,u.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(u.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(u.I0.required),registrationToken:t.Z_().required(u.I0.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:lt,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(u.I0.required),lastname:t.Z_(),password:t.Z_().min(8,u.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(u.I0.required),email:t.Z_().email(u.I0.email).strict().lowercase(u.I0.lowercase).required(u.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(u.I0.required)}),inputsPrefix:""},"reset-password":{Component:ft,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,u.I0.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(u.I0.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(u.I0.required)})}};const Re=At},87751:(b,f,e)=>{"use strict";e.d(f,{Z:()=>T});var t=e(82492),u=e.n(t);const v={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var g=function(){return window&&window.strapi&&window.strapi.isEE?e(2199).Z:e(69623).Z}(),m=u()(v,g);const T=m},31424:(b,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>on});var t=e(67294),u=e(73727),o=e(42675),v=e(38992),g=e(82492),m=e.n(g),T=e(78718),A=e.n(T),M=e(23560),x=e.n(M),W=e(41143),h=e.n(W),I=e(64593),y=e(63871);const B=()=>{const i=[];return{register(s){i.push(s)},delete(s){i.splice(i.indexOf(s),1)},runWaterfall(s,n){return i.reduce((r,c)=>c(r,n),s)},async runWaterfallAsync(s,n){let r=s;for(const c of i)r=await c(r,n);return r},runSeries(...s){return i.map(n=>n(...s))},async runSeriesAsync(...s){const n=[];for(const r of i)n.push(await r(...s));return n},runParallel(...s){return Promise.all(i.map(n=>n(...s)))}}};var R=e(14890);const G=(i,s)=>{let n=R.compose;const r=[];i.forEach(E=>{r.push(E())});const c=(0,R.createStore)(F(s,{}),{},n((0,R.applyMiddleware)(...r)));return c.asyncReducers={},c.injectReducer=(E,L)=>{c.asyncReducers[E]=L,c.replaceReducer(F(s,c.asyncReducers))},c},F=(i,s)=>(0,R.combineReducers)({...i,...s}),N=G;var me=e(42775),C=e(16550),O=e(52861),P=e(79174),ge=e(727),oe=e(86896),ze=e(45697),a=e.n(ze);const Ve=({component:i,path:s,...n})=>{const{pathname:r,search:c}=(0,C.TH)();return t.createElement(C.AW,{path:s,render:E=>P.I8.getToken()!==null?t.createElement(i,{...n,...E}):t.createElement(C.l_,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${c}`)}`}})})};Ve.propTypes={component:a().any.isRequired,path:a().string.isRequired};const ye=(0,t.memo)(Ve);var Ie=e(19631),be=e(87462),Me=e(4942),Ze=e(15861),it=e(70885),lt=e(45987),pt=e(64687),Te=e.n(pt),ft=e(68929),ht=e.n(ft),At=e(27361),Re=e.n(At),H=e(57557),je=e.n(H);const ne="GUIDED_TOUR_CURRENT_STEP",ke="GUIDED_TOUR_COMPLETED_STEPS",Se="GUIDED_TOUR_SKIPPED",Xe=JSON.parse,ae=JSON.stringify,pe={clear(){localStorage.removeItem(ne),localStorage.removeItem(ke)},addCompletedStep(i){const s=Xe(localStorage.getItem(ke))?.slice()||[];s.includes(i)||(s.push(i),localStorage.setItem(ke,ae(s)))},addCurrentStep(i){localStorage.setItem(ne,ae(i))},setSkipped(i){localStorage.setItem(Se,ae(i))},get(i){return Xe(localStorage.getItem(i))}};var Ye=e(50592),tt=e(27858);const Et=i=>i;var Je=e(18172),Ct=e(36968),nt=e.n(Ct);const te={formErrors:{},modifiedData:{},requestError:null},vt=(i,s)=>(0,Je.ZP)(i,n=>{switch(s.type){case"ON_CHANGE":{nt()(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return te;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}});var ot=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function _e(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,r)}return n}function ut(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?_e(Object(n),!0).forEach(function(r){(0,Me.Z)(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Ae=function(){return window&&window.strapi&&window.strapi.isEE?e(98837).Z:e(42243).Z}(),z=function(s){var n=s.hasAdmin,r=s.setHasAdmin,c=(0,C.k6)(),E=c.push,L=c.location.search,D=(0,Ye.Z)(),ce=D.changeLocale,X=(0,P.c1)(),$=X.setSkipped,j=(0,P.rS)(),V=j.trackUsage,Q=(0,C.$B)("/auth/:authType"),U=Q.params.authType,se=(0,P.aM)(),q=Re()(Ae,U,{}),Fe=q.Component,Ue=q.endPoint,yt=q.fieldsToDisable,Tt=q.fieldsToOmit,wt=q.inputsPrefix,Bt=q.schema,xt=(0,lt.Z)(q,ot),an=(0,t.useReducer)(vt,te,Et),Ts=(0,it.Z)(an,2),qt=Ts[0],rn=qt.formErrors,ln=qt.modifiedData,un=qt.requestError,Wt=Ts[1],cn=O.Z.CancelToken,Rt=cn.source();(0,t.useEffect)(function(){return function(){Rt.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){Wt({type:"RESET_PROPS"})},[U]);var dn=function(he){var Y=he.target,ve=Y.name,ee=Y.value;Wt({type:"ON_CHANGE",keys:ve,value:ee})},mn=function(){var Ge=(0,Ze.Z)(Te().mark(function he(Y,ve){var ee,Pe,Ce,Le;return Te().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(ee=ve.setSubmitting,Pe=ve.setErrors,ee(!0),Ce=je()(Y,Tt),Le="/admin/".concat(Ue),U!=="login"){de.next=7;break}return de.next=7,pn(Y,Le,{setSubmitting:ee,setErrors:Pe});case 7:if(!(U==="register"||U==="register-admin")){de.next=10;break}return de.next=10,fn(Y,Le,{setSubmitting:ee,setErrors:Pe});case 10:if(U!=="forgot-password"){de.next=13;break}return de.next=13,gn(Ce,Le,{setSubmitting:ee,setErrors:Pe});case 13:if(U!=="reset-password"){de.next=16;break}return de.next=16,hn(Ce,Le,{setSubmitting:ee,setErrors:Pe});case 16:case"end":return de.stop()}},he)}));return function(Y,ve){return Ge.apply(this,arguments)}}(),gn=function(){var Ge=(0,Ze.Z)(Te().mark(function he(Y,ve,ee){var Pe,Ce;return Te().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Pe=ee.setSubmitting,Ce=ee.setErrors,J.prev=1,J.next=4,(0,O.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:Y,cancelToken:Rt.token});case 4:E("/auth/forgot-password-success"),J.next=11;break;case 7:J.prev=7,J.t0=J.catch(1),console.error(J.t0),Ce({errorMessage:"notification.error"});case 11:return J.prev=11,Pe(!1),J.finish(11);case 14:case"end":return J.stop()}},he,null,[[1,7,11,14]])}));return function(Y,ve,ee){return Ge.apply(this,arguments)}}(),pn=function(){var Ge=(0,Ze.Z)(Te().mark(function he(Y,ve,ee){var Pe,Ce,Le,J,de,He,$e;return Te().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Pe=ee.setSubmitting,Ce=ee.setErrors,ie.prev=1,ie.next=4,(0,O.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:je()(Y,Tt),cancelToken:Rt.token});case 4:Le=ie.sent,J=Le.data.data,de=J.token,He=J.user,He.preferedLanguage&&ce(He.preferedLanguage),P.I8.setToken(de,Y.rememberMe),P.I8.setUserInfo(He,Y.rememberMe),Rs(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if($e=Re()(ie.t0,["response","data","error","message"],"Something went wrong"),ht()($e).toLowerCase()!=="usernotactive"){ie.next=22;break}return E("/auth/oops"),Wt({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Ce({errorMessage:$e});case 23:return ie.prev=23,Pe(!1),ie.finish(23);case 26:case"end":return ie.stop()}},he,null,[[1,14,23,26]])}));return function(Y,ve,ee){return Ge.apply(this,arguments)}}(),fn=function(){var Ge=(0,Ze.Z)(Te().mark(function he(Y,ve,ee){var Pe,Ce,Le,J,de,He,$e,gt,ie,Ee;return Te().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Pe=ee.setSubmitting,Ce=ee.setErrors,Oe.prev=1,V("willCreateFirstAdmin"),Oe.next=5,(0,O.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:je()(Y,Tt),cancelToken:Rt.token});case 5:if(Le=Oe.sent,J=Le.data.data,de=J.token,He=J.user,P.I8.setToken(de,!1),P.I8.setUserInfo(He,!1),Pe(!1),r(!0),$e=He.roles,$e&&(gt=$e.find(function(En){var vn=En.code;return vn==="strapi-super-admin"}),gt&&(pe.setSkipped(!1),$(!1),V("didLaunchGuidedtour"))),!(U==="register"&&Y.userInfo.news===!0||U==="register-admin"&&Y.news===!0)){Oe.next=18;break}return E({pathname:"/usecase",search:"?hasAdmin=".concat(n)}),Oe.abrupt("return");case 18:Rs(),Oe.next=25;break;case 21:Oe.prev=21,Oe.t0=Oe.catch(1),V("didNotCreateFirstAdmin"),Oe.t0.response&&(ie=Oe.t0.response.data,Ee=(0,tt.Z)(ie),Ce({apiErrors:Ee}));case 25:case"end":return Oe.stop()}},he,null,[[1,21]])}));return function(Y,ve,ee){return Ge.apply(this,arguments)}}(),hn=function(){var Ge=(0,Ze.Z)(Te().mark(function he(Y,ve,ee){var Pe,Ce,Le,J,de,He,$e,gt;return Te().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Pe=ee.setErrors,Ce=ee.setSubmitting,Ee.prev=1,Ee.next=4,(0,O.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:ut(ut({},Y),{},{resetPasswordToken:se.get("code")}),cancelToken:Rt.token});case 4:Le=Ee.sent,J=Le.data.data,de=J.token,He=J.user,P.I8.setToken(de,!1),P.I8.setUserInfo(He,!1),E("/"),Ee.next=16;break;case 13:Ee.prev=13,Ee.t0=Ee.catch(1),Ee.t0.response&&($e=Re()(Ee.t0,["response","data","message"],"Something went wrong"),gt=Re()(Ee.t0,["response","data","statusCode"],400),Wt({type:"SET_REQUEST_ERROR",errorMessage:$e,errorStatus:gt}),Pe({errorMessage:$e}));case 16:return Ee.prev=16,Ce(!1),Ee.finish(16);case 19:case"end":return Ee.stop()}},he,null,[[1,13,16,19]])}));return function(Y,ve,ee){return Ge.apply(this,arguments)}}(),Rs=function(){if(U==="login"){var he=se.get("redirectTo"),Y=he?decodeURIComponent(he):"/";E(Y)}else E("/")};return!Ae[U]||n&&U==="register-admin"||P.I8.getToken()?t.createElement(C.l_,{to:"/"}):!n&&U!=="register-admin"?t.createElement(C.l_,{to:{pathname:"/auth/register-admin",search:L}}):t.createElement(Fe,(0,be.Z)({},xt,{authType:U,fieldsToDisable:yt,formErrors:rn,inputsPrefix:wt,modifiedData:ln,onChange:dn,onSubmit:mn,requestError:un,schema:Bt}))};z.defaultProps={hasAdmin:!1},z.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const fe=z;var De=e(23330),le=e(88972),Nt=e(80129),Lt=e(75515),Kt=e(185),Be=e(11047),at=e(41580),Mt=e(48302),Ft=e(82562),ct=e(16364),Gt=e(29728),Ht=e(39785),St=e(79690),Dt=e(36206);const es=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],$t=(0,le.ZP)(Lt.Z)`
  text-align: center;
`,zt=()=>{const i=(0,P.lm)(),{push:s,location:n}=(0,C.k6)(),{formatMessage:r}=(0,oe.Z)(),[c,E]=(0,t.useState)(),[L,D]=(0,t.useState)(""),{firstname:ce,email:X}=P.I8.getUserInfo(),{hasAdmin:$}=(0,Nt.parse)(n?.search,{ignoreQueryPrefix:!0}),j=c==="other",V=Q=>{try{(0,O.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:X,username:ce,firstAdmin:Boolean(!$),persona:{role:Q?void 0:c,otherRole:Q?void 0:L}}}),i({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Dt.ZP,null,t.createElement(Kt.o,{labelledBy:"usecase-title"},t.createElement(Dt.bU,null,t.createElement("form",{onSubmit:()=>V(!1)},t.createElement(Be.k,{direction:"column",paddingBottom:7},t.createElement(St.Z,null),t.createElement(at.x,{paddingTop:6,paddingBottom:1,width:(0,P.Q1)(250)},t.createElement($t,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Be.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Mt.P,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:E,value:c},es.map(({intlLabel:Q,value:U})=>t.createElement(Ft.W,{key:U,value:U},r(Q)))),j&&t.createElement(ct.o,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:L,onChange:Q=>D(Q.target.value),"data-testid":"other"}),t.createElement(Gt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!c},r({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(Be.k,{justifyContent:"center"},t.createElement(at.x,{paddingTop:4},t.createElement(Ht.A,{onClick:()=>V(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var ts=e(62196);const Vt=async()=>`web-fingerprint-${(await(await ts.ZP.load()).get()).visitorId}`;var Xt=e(42982);const ns=[];var Qt=function(){return window&&window.strapi&&window.strapi.isEE?e(35499).Z:e(77981).Z}();const os=[].concat((0,Xt.Z)(Qt),(0,Xt.Z)(ns));var Ot=e(48474);const p=(0,t.lazy)(()=>Promise.all([e.e(6163),e.e(801)]).then(e.bind(e,93858)));function d(){const i=(0,P.lm)(),{updateProjectSettings:s}=(0,Ot.um)(),{formatMessage:n}=(0,oe.Z)(),[{isLoading:r,hasAdmin:c,uuid:E,deviceId:L},D]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),ce=(0,P.QI)(),{get:X,post:$}=(0,P.kY)(),j=(0,t.useMemo)(()=>(0,Ie.WW)(os.map(({to:q,Component:Fe,exact:Ue})=>(0,Ie.ot)(Fe,q,Ue))),[]),[V,Q]=(0,t.useState)(null);(0,t.useEffect)(()=>{const q=P.I8.getToken();q&&(async()=>{try{const{data:{data:{token:Ue}}}=await $("/admin/renew-token",{token:q});P.I8.updateToken(Ue)}catch{P.I8.clearAppStorage(),window.location.reload()}})()},[$]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:Fe,uuid:Ue,menuLogo:yt,authLogo:Tt}}}=await X("/admin/init");s({menuLogo:(0,P.CR)(yt),authLogo:(0,P.CR)(Tt)});const wt=await Vt();if(Ue){const{data:{data:Bt}}=await X("/admin/telemetry-properties",{validateStatus:xt=>xt<500});Q(Bt);try{await O.Z.post("https://analytics.strapi.io/api/v2/track",{event:"didInitializeAdministration",userId:"",deviceId:wt,eventPropeties:{},userProperties:{environment:ce.currentEnvironment},groupProperties:{...Bt,projectId:Ue}})}catch{}}D({isLoading:!1,hasAdmin:Fe,uuid:Ue,deviceId:wt})}catch{i({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[i,s]);const U=q=>D(Fe=>({...Fe,hasAdmin:q})),se=(0,t.useMemo)(()=>({uuid:E,telemetryProperties:V,deviceId:L}),[E,V,L]);return r?t.createElement(P.dO,null):t.createElement(t.Suspense,{fallback:t.createElement(P.dO,null)},t.createElement(ge.z,null,n({id:"skipToContent"})),t.createElement(P.L8,{value:se},t.createElement(C.rs,null,j,t.createElement(C.AW,{path:"/auth/:authType",render:q=>t.createElement(fe,{...q,setHasAdmin:U,hasAdmin:c}),exact:!0}),t.createElement(ye,{path:"/usecase",component:zt}),t.createElement(ye,{path:"/",component:p}),t.createElement(C.AW,{path:"",component:De.default}))))}const l=d;var S=e(61473),k=e(64195),Z=e(88767),_=e(86706),K=e(47713);const ue={menuLogo:null,authLogo:null},re=(i=ue,s)=>(0,Je.ZP)(i,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}}),We=({children:i,authLogo:s,menuLogo:n,showReleaseNotification:r,showTutorials:c})=>{const[{menuLogo:E,authLogo:L},D]=(0,t.useReducer)(re,ue),ce=(0,t.useCallback)(({menuLogo:$,authLogo:j})=>D({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:$||n,authLogo:j||s}}),[s,n]),X=(0,t.useMemo)(()=>({logos:{menu:{custom:E,default:n},auth:{custom:L,default:s}},updateProjectSettings:ce,showReleaseNotification:r,showTutorials:c}),[E,n,L,s,ce,r,c]);return t.createElement(K._5.Provider,{value:X},i)};We.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const st=We;var rt=e(29558),dt=e(66913),Pt=e.n(dt),It=e(93343);const mt=({changeLocale:i,children:s,localeNames:n})=>t.createElement(It.Z.Provider,{value:{changeLocale:i,localeNames:n}},s);mt.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired};const Yt=mt,qe="strapi-admin-language",et=i=>{const s=window.localStorage.getItem(qe);return{locale:i[s]?s:"en",localeNames:i}},Ke={localeNames:{en:"English"},locale:"en"},Ls=(i=Ke,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return i.localeNames[n]?{...i,locale:n}:i}default:return i}},as=({children:i,localeNames:s,messages:n})=>{const[{locale:r},c]=(0,t.useReducer)(Ls,Ke,()=>et(s));(0,t.useEffect)(()=>{window.localStorage.setItem(qe,r),document.documentElement.setAttribute("lang",r)},[r]);const E=D=>{c({type:"CHANGE_LOCALE",locale:D})},L=Pt()(n[r],n.en);return t.createElement(rt.Z,{locale:r,defaultLocale:"en",messages:L,textComponent:"span"},t.createElement(Yt,{changeLocale:E,localeNames:s},i))};as.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Ms=as,Ss=(i,s)=>{const n=Object.entries(s),r=n.findIndex(([E])=>E===i);return n.slice(0,r).every(([,E])=>Object.values(E).every(Boolean))},Ds=(i,s)=>{const n=i.split("."),r=n[1],c=Object.entries(s[n[0]]),E=c.findIndex(([D])=>D===r);return c.slice(0,E).every(([,D])=>D)},rs={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Os=(i=rs,s)=>(0,Je.ZP)(i,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,c]=s.currentStep.split(".");n.guidedTourState[r][c]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}}),Is=i=>{const s={...i},n=pe.get(ke),r=pe.get(ne),c=pe.get(Se);if(n&&n.forEach(E=>{const[L,D]=E.split(".");nt()(s,["guidedTourState",L,D],!0)}),r){const[E,L]=r.split(".");nt()(s,["guidedTourState",E,L],!0),pe.addCompletedStep(r),pe.addCurrentStep(null)}return c!==null&&nt()(s,"isSkipped",c),s},is=({children:i})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:r,isSkipped:c},E]=(0,t.useReducer)(Os,rs,Is),L=j=>{if(j!==null){const V=Re()(n,j),Q=Ds(j,n);if(V||c||!Q)return null}return pe.addCurrentStep(j),E({type:"SET_CURRENT_STEP",step:j})},D=j=>{E({type:"SET_GUIDED_TOUR_VISIBILITY",value:j})},ce=(j,V)=>{pe.addCompletedStep(j),E({type:"SET_STEP_STATE",currentStep:j,value:V})},X=j=>{const V=n[j];if(V){const Q=Ss(j,n),U=Object.keys(V)[0],se=V[U];if(Q&&!s&&!se)return L(`${j}.${U}`)}return null},$=j=>{pe.setSkipped(j),E({type:"SET_SKIPPED",value:j})};return t.createElement(P.Zc,{guidedTourState:n,currentStep:s,setCurrentStep:L,setGuidedTourVisibility:D,setSkipped:$,setStepState:ce,startSection:X,isGuidedTourVisible:r,isSkipped:c},i)};is.propTypes={children:a().element.isRequired};const bs=is;var ls=e(73935),ks=e(30815),Us=e(84517),us=e(36182);const Zs=(0,le.ZP)(at.x)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:i})=>i.colors.neutral0};
    opacity: 0.9;
  }
`,js=(0,le.ZP)(Be.k)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.Q1)(160)};
`,cs=(0,le.ZP)(at.x)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:i})=>i.colors.primary600} !important;
    }
  }
`,Ut=document.createElement("div"),ws="autoReloadOverlayBlocker";Ut.setAttribute("id",ws);const Bs=le.F4`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,xs=(0,le.ZP)(ks.Z)`
  animation: ${Bs} 1s infinite linear;
`,ds=({displayedIcon:i,description:s,title:n,isOpen:r})=>{const{formatMessage:c}=(0,oe.Z)();return(0,t.useEffect)(()=>(document.body.appendChild(Ut),()=>{document.body.removeChild(Ut)}),[]),r?ls.createPortal(t.createElement(Zs,null,t.createElement(js,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Be.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(Be.k,{justifyContent:"center"},t.createElement(Lt.Z,{as:"h1",variant:"alpha"},c(n))),t.createElement(Be.k,{justifyContent:"center"},t.createElement(Lt.Z,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},c(s)))),t.createElement(Be.k,{justifyContent:"center"},i==="reload"&&t.createElement(cs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(xs,{width:(0,P.Q1)(36),height:(0,P.Q1)(36)})),i==="time"&&t.createElement(cs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Us.Z,{width:(0,P.Q1)(40),height:(0,P.Q1)(40)}))),t.createElement(Be.k,{justifyContent:"center"},t.createElement(at.x,{paddingTop:2},t.createElement(us.r,{href:"https://docs.strapi.io",isExternal:!0},c({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Ut):null};ds.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Ws=ds,ms=30,gs=({children:i})=>{const[s,n]=(0,t.useState)(!1),[{elapsed:r},c]=(0,t.useState)({elapsed:0,start:0}),[E,L]=(0,t.useState)(void 0),D=(se=void 0)=>{n(!0),L(se),c(q=>({...q,start:Date.now()}))},ce=()=>{n(!1),c({start:0,elapsed:0}),L(void 0)},X=(0,t.useRef)(D),$=(0,t.useRef)(ce);(0,t.useEffect)(()=>{let se=null;return s?se=setInterval(()=>r>ms?(clearInterval(se),null):(c(q=>({...q,elapsed:Math.round(Date.now()-q.start)/1e3})),null),1e3):clearInterval(se),()=>{clearInterval(se)}},[s,r]);let j=E?.icon||"reload",V={id:E?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Q={id:E?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>ms&&(j="time",V={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Q={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const U=(0,t.useMemo)(()=>({lockApp:X.current,unlockApp:$.current}),[X,$]);return t.createElement(P.Uu.Provider,{value:U},t.createElement(Ws,{displayedIcon:j,isOpen:s,description:V,title:Q}),i)};gs.propTypes={children:a().element.isRequired};const Ns=gs;var Ks=e(18986);const Jt=({dispatch:i,notification:s})=>{const{formatMessage:n}=(0,oe.Z)(),{message:r,link:c,type:E,id:L,onClose:D,timeout:ce,blockTransition:X,title:$}=s,j=se=>typeof se=="string"?se:n(se,se.values),V=(0,t.useCallback)(()=>{D&&D(),i({type:"HIDE_NOTIFICATION",id:L})},[L]);(0,t.useEffect)(()=>{let se;return X||(se=setTimeout(()=>{V()},ce||2500)),()=>clearTimeout(se)},[X,V,ce]);let Q,U;return E==="info"?(Q="default",U=n({id:"notification.default.title",defaultMessage:"Information:"})):E==="warning"?(Q="danger",U=n({id:"notification.warning.title",defaultMessage:"Warning:"})):E==="softWarning"?(Q="warning",U=n({id:"notification.warning.title",defaultMessage:"Warning:"})):(Q="success",U=n({id:"notification.success.title",defaultMessage:"Success:"})),$&&(U=typeof $=="string"?$:j({id:$?.id||$,defaultMessage:$?.defaultMessage||$?.id||$,values:$?.values})),t.createElement(Ks.b,{action:c?t.createElement(us.r,{href:c.url,isExternal:!0},n({id:c.label?.id||c.label,defaultMessage:c.label?.defaultMessage||c.label?.id||c.label})):void 0,onClose:V,closeLabel:"Close",title:U,variant:Q},j({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};Jt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Jt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Fs=Jt,ps={notifId:0,notifications:[]},Gs=(i=ps,s)=>(0,Je.ZP)(i,n=>{switch(s.type){case"SHOW_NOTIFICATION":{n.notifications.push({id:i.notifId,type:Re()(s,["config","type"],"success"),message:Re()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:Re()(s,["config","link"],null),timeout:Re()(s,["config","timeout"],2500),blockTransition:Re()(s,["config","blockTransition"],!1),onClose:Re()(s,["config","onClose"],null),title:Re()(s,["config","title"],null)}),n.notifId=i.notifId+1;break}case"HIDE_NOTIFICATION":{const r=i.notifications.findIndex(c=>c.id===s.id);r!==-1&&n.notifications.splice(r,1);break}default:return n}}),fs=({children:i})=>{const[{notifications:s},n]=(0,t.useReducer)(Gs,ps),r=c=>{n({type:"SHOW_NOTIFICATION",config:c})};return t.createElement(P.N$,{toggleNotification:r},t.createElement(Be.k,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(c=>t.createElement(Fs,{key:c.id,dispatch:n,notification:c}))),i)};fs.propTypes={children:a().element.isRequired};const Hs=fs,Zt=document.createElement("div");Zt.setAttribute("id","overlayBlocker");const $s=le.ZP.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,hs=({isOpen:i})=>((0,t.useEffect)(()=>(document.body.appendChild(Zt),()=>{document.body.removeChild(Zt)}),[]),i?ls.createPortal(t.createElement($s,null),Zt):null);hs.propTypes={isOpen:a().bool.isRequired};const Es=({children:i})=>{const[s,n]=(0,t.useState)(!1),r=()=>{n(!0)},c=()=>{n(!1)};return t.createElement(P.vG.Provider,{value:{lockApp:r,unlockApp:c}},i,t.createElement(hs,{isOpen:s}))};Es.propTypes={children:a().node.isRequired};const zs=Es,_t="STRAPI_THEME",Vs=()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(_t);return s||localStorage.setItem(_t,i),s||i},vs=({children:i,themes:s})=>{const[n,r]=(0,t.useState)(Vs()),c=(0,t.useCallback)(L=>{r(L),localStorage.setItem(_t,L)},[r]),E=(0,t.useMemo)(()=>({currentTheme:n,onChangeTheme:c,themes:s}),[n,c,s]);return t.createElement(K.Rj.Provider,{value:E},i)};vs.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Xs=vs;var Qs=e(33976);const Ys=le.vJ`
  body {
    background: ${({theme:i})=>i.colors.neutral100};
  }
`,Ps=({children:i})=>{const{currentTheme:s,themes:n}=(0,Ot.M1)();return t.createElement(Qs.f,{theme:n[s]||n.light},i,t.createElement(Ys,null))};Ps.propTypes={children:a().element.isRequired};const Js=Ps,_s=new k.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ys=({authLogo:i,children:s,components:n,customFields:r,fields:c,getAdminInjectedComponents:E,getPlugin:L,localeNames:D,menu:ce,menuLogo:X,messages:$,plugins:j,runHookParallel:V,runHookSeries:Q,runHookWaterfall:U,settings:se,showReleaseNotification:q,showTutorials:Fe,store:Ue,themes:yt})=>t.createElement(Xs,{themes:yt},t.createElement(Js,null,t.createElement(Z.QueryClientProvider,{client:_s},t.createElement(_.zt,{store:Ue},t.createElement(K.ux.Provider,{value:{getAdminInjectedComponents:E}},t.createElement(st,{authLogo:i,menuLogo:X,showReleaseNotification:q,showTutorials:Fe},t.createElement(P._Y,{getPlugin:L,menu:ce,plugins:j,runHookParallel:V,runHookWaterfall:U,runHookSeries:Q,settings:se},t.createElement(P.rt,{components:n,fields:c},t.createElement(P.MG,{customFields:r},t.createElement(Ms,{messages:$,localeNames:D},t.createElement(Ns,null,t.createElement(zs,null,t.createElement(bs,null,t.createElement(Hs,null,s))))))))))))));ys.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const qs=ys,en={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var jt=e(80660);const tn={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},sn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class nn{constructor({adminConfig:s,appPlugins:n,library:r,middlewares:c,reducers:E}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:S,head:{favicon:sn},locales:["en"],menuLogo:S,notifications:{releases:!0},themes:{light:o.W,dark:v.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=r,this.middlewares=c,this.plugins={},this.reducers=E,this.translations={},this.hooksDict={},this.admin={injectionZones:tn},this.customFields=me.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);h()(s.to,`link.to should be defined for ${n}`),h()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),h()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);h()(s.to,`link.to should be defined for ${n}`),h()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),h()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),h()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{h()(this.settings[s],"The section does not exist");const r=JSON.stringify(n);h()(n.id,`link.id should be defined for ${r}`),h()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),h()(n.to,`link.to should be defined for ${r}`),h()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{h()(this.settings[s],"The section does not exist"),h()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),x()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(jt.No),this.createHook(jt.LK),this.createHook(jt.dV),this.createHook(jt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),m()(this.configurations.themes.light,this.customConfigurations.theme)),n&&m()(this.configurations.themes.light,n),s&&m()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=B()};createSettingSection=(s,n)=>{h()(s.id,"section.id should be defined"),h()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),h()(Array.isArray(n),"TypeError expected links to be an array"),h()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>N(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,r)=>{try{return this.admin.injectionZones[s][n][r]||[]}catch(c){return console.error("Cannot get injected component",c),c}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,r)=>{h()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),h()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(r)};injectAdminComponent=(s,n,r)=>{h()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),h()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(c=>e(95423)(`./${c}.json`).then(({default:E})=>({data:E,locale:c})).catch(()=>({data:null,locale:c})));return(await Promise.all(s)).reduce((c,E)=>(E.data&&(c[E.locale]=E.data),c),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(L=>{const D=this.appPlugins[L].registerTrads;return D?D({locales:this.configurations.locales}):null}).filter(L=>L),c=(await Promise.all(n)).reduce((L,D)=>{const ce=D.reduce((X,$)=>(X[$.locale]=$.data,X),{});return Object.keys(ce).forEach(X=>{L[X]={...L[X],...ce[X]}}),L},{}),E=this.configurations.locales.reduce((L,D)=>(L[D]={...s[D],...c[D]||{},...this.customConfigurations?.translations?.[D]},L),{});return this.configurations.translations=E,Promise.resolve()}registerHook=(s,n)=>{h()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,me.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,r=!1,c)=>r?this.hooksDict[s].runWaterfallAsync(n,c):this.hooksDict[s].runWaterfall(n,c);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=A()(en,this.configurations.locales||[]),{components:{components:r},fields:{fields:c}}=this.library;return t.createElement(qs,{authLogo:this.configurations.authLogo,components:r,fields:c,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(E,L,D=!1)=>this.runHookWaterfall(E,L,D,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(I.q,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(qe)||"en"}}),t.createElement(u.VK,{basename:y.Z},t.createElement(l,{store:s}))))}}const on=({adminConfig:i={},appPlugins:s,library:n,middlewares:r,reducers:c})=>new nn({adminConfig:i,appPlugins:s,library:n,middlewares:r,reducers:c})},93343:(b,f,e)=>{"use strict";e.d(f,{Z:()=>o});var t=e(67294);const o=(0,t.createContext)()},50592:(b,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(67294),u=e(93343);const v=()=>{const{changeLocale:g,localeNames:m,messages:T}=(0,t.useContext)(u.Z);return{changeLocale:g,localeNames:m,messages:T}}},79690:(b,f,e)=>{"use strict";e.d(f,{Z:()=>m});var t=e(67294),u=e(88972),o=e(48474);const v=u.ZP.img`
  height: ${72/16}rem;
`,m=()=>{const{logos:{auth:T}}=(0,o.um)();return t.createElement(v,{src:T?.custom??T.default,"aria-hidden":!0,alt:""})}},47713:(b,f,e)=>{"use strict";e.d(f,{ux:()=>o,_5:()=>g,$l:()=>T,Rj:()=>M});var t=e(67294);const o=(0,t.createContext)({}),g=(0,t.createContext)({}),T=(0,t.createContext)({}),M=(0,t.createContext)({})},63871:(b,f,e)=>{"use strict";e.d(f,{Z:()=>u});const u="/admin/".replace(window.location.origin,"")},80660:(b,f,e)=>{"use strict";e.d(f,{Eo:()=>o,LK:()=>u,No:()=>t,dV:()=>v});const t="Admin/CM/pages/ListView/inject-column-in-table",u="Admin/CM/pages/App/mutate-collection-types-links",o="Admin/CM/pages/EditView/mutate-edit-view-layout",v="Admin/CM/pages/App/mutate-single-types-links"},48474:(b,f,e)=>{"use strict";e.d(f,{um:()=>v,U_:()=>B,Dq:()=>me,H9:()=>Te,bP:()=>W,$_:()=>ss,rW:()=>Ot,bF:()=>Se,G4:()=>zt,Te:()=>at,M1:()=>Qt});var t=e(67294),u=e(47713);const v=()=>(0,t.useContext)(u._5);var g=e(79174),m=e(18172);const T={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},M=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"GET_MODELS":{l.collectionTypes=T.collectionTypes,l.singleTypes=T.singleTypes,l.components=T.components,l.isLoading=!0;break}case"GET_MODELS_ERROR":{l.collectionTypes=T.collectionTypes,l.singleTypes=T.singleTypes,l.components=T.components,l.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const S=k=>d.contentTypes.filter(Z=>Z.isDisplayed&&Z.kind===k);l.isLoading=!1,l.collectionTypes=S("collectionType"),l.singleTypes=S("singleType"),l.components=d.components;break}default:return l}}),W=()=>{const p=(0,g.lm)(),[d,l]=(0,t.useReducer)(M,T),{get:S}=(0,g.kY)(),k=(0,t.useCallback)(async()=>{l({type:"GET_MODELS"});try{const[{data:{data:Z}},{data:{data:_}}]=await Promise.all(["components","content-types"].map(K=>S(`/content-manager/${K}`)));l({type:"GET_MODELS_SUCCEDED",contentTypes:_,components:Z})}catch{l({type:"GET_MODELS_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},[p,S]);return(0,t.useEffect)(()=>{k()},[k]),{...d,getData:k}},h={data:{},error:null,isLoading:!0},y=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"GET_DATA":{l.isLoading=!0,l.data={},l.error=null;break}case"GET_DATA_SUCCEEDED":{l.data=d.data,l.isLoading=!1,l.error=null;break}case"GET_DATA_ERROR":{l.isLoading=!1,l.error=d.error;break}default:return l}}),B=p=>{const[{data:d,error:l,isLoading:S},k]=(0,t.useReducer)(y,h),{get:Z}=(0,g.kY)();return(0,t.useEffect)(()=>{(async()=>{try{k({type:"GET_DATA"});const{data:{data:K}}=await Z("/admin/permissions",{params:{role:p}});k({type:"GET_DATA_SUCCEEDED",data:K})}catch{}})()},[p,Z]),{data:d,error:l,isLoading:S}},R={role:{},permissions:{},isLoading:!0},F=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"GET_DATA_SUCCEEDED":{l.role=d.role,l.permissions=d.permissions,l.isLoading=!1;break}case"GET_DATA_ERROR":{l.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{l.role.name=d.name,l.role.description=d.description;break}default:return l}}),me=p=>{const d=(0,g.lm)(),[l,S]=(0,t.useReducer)(F,R),{get:k}=(0,g.kY)();(0,t.useEffect)(()=>{p?(async K=>{try{const[{data:{data:ue}},{data:{data:xe}}]=await Promise.all([`roles/${K}`,`roles/${K}/permissions`].map(re=>k(`/admin/${re}`)));S({type:"GET_DATA_SUCCEEDED",role:ue,permissions:xe})}catch(ue){console.error(ue),S({type:"GET_DATA_ERROR"}),d({type:"warning",message:{id:"notification.error"}})}})(p):S({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[k,p,d]);const Z=(0,t.useCallback)(_=>{S({type:"ON_SUBMIT_SUCCEEDED",..._})},[]);return{...l,onSubmitSucceeded:Z}},O=(p,d)=>d.map(({permissions:l})=>(0,g.qX)(p,l)),ge=async(p,d)=>{const l=O(p,d),S=await Promise.all(l);return d.filter((Z,_)=>S[_])};var oe=e(50361),ze=e.n(oe);const Ve=async(p,d,l)=>{const S=O(p,d),k=await Promise.all(S),Z=d.filter((ue,xe)=>k[xe]),_=Z.findIndex(ue=>ue.to==="/settings");if(_===-1)return[];const K=ze()(Z);return K[_].notificationsCount=l?1:0,K};var ye=e(41916),Ie=e(48077),be=e(78114),Me=e(87751);const Ze={generalSectionLinks:[{icon:ye.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:Me.Z.marketplace.main},{icon:Ie.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:Me.Z.marketplace.main},{icon:be.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},lt=(p=Ze,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:S,authorizedPluginSectionLinks:k}=d.data;l.generalSectionLinks=S,l.pluginsSectionLinks=k;break}case"UNSET_IS_LOADING":{l.isLoading=!1;break}default:return l}}),Te=()=>{const[p,d]=(0,t.useReducer)(lt,Ze),{allPermissions:l}=(0,g.vn)(),{shouldUpdateStrapi:S}=(0,g.QI)(),{menu:k}=(0,g.j1)(),Z=(0,t.useRef)(p.generalSectionLinks),_=(0,t.useRef)(S),K=async(xe=l)=>{const We=await ge(xe,k),st=await Ve(xe,Z.current,_.current);d({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:st,authorizedPluginSectionLinks:We}}),d({type:"UNSET_IS_LOADING"})},ue=(0,t.useRef)(K);return(0,t.useEffect)(()=>{ue.current(l)},[l,d]),p};var ft=e(27361),ht=e.n(ft);const Re=(p,d)=>({...p,isLoading:d}),H={roles:[],isLoading:!0},ne=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"GET_DATA":{l.isLoading=!0,l.roles=[];break}case"GET_DATA_SUCCEEDED":{l.roles=d.data,l.isLoading=!1;break}case"GET_DATA_ERROR":{l.isLoading=!1;break}default:return l}}),Se=(p=!0)=>{const d=(0,g.lm)(),[{roles:l,isLoading:S},k]=(0,t.useReducer)(ne,H,()=>Re(H,p));(0,t.useEffect)(()=>{p&&Z()},[p]);const Z=(0,t.useCallback)(async()=>{const _=(0,g.tg)();try{k({type:"GET_DATA"});const{data:{data:K}}=await _.get("/admin/roles");k({type:"GET_DATA_SUCCEEDED",data:K})}catch(K){const ue=ht()(K,["response","payload","message"],"An error occured");k({type:"GET_DATA_ERROR"}),ue!=="Forbidden"&&d({type:"warning",message:ue})}},[d]);return{roles:l,isLoading:S,getData:Z}};var Xe=e(36968),ae=e.n(Xe);const Qe={menu:[],isLoading:!0},Ye=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"CHECK_PERMISSIONS_SUCCEEDED":{d.data.forEach(S=>{S.hasPermission&&ae()(l,["menu",...S.path.split("."),"isDisplayed"],S.hasPermission)}),l.menu.forEach((S,k)=>{l.menu[k].links=S.links.filter(Z=>Z.isDisplayed===!0)}),l.isLoading=!1;break}default:return l}});var tt=e(57557),we=e.n(tt),Et=e(89734),Je=e.n(Et);const nt=p=>Je()(p,d=>d.id),vt=p=>p.map(d=>{const l=d.links.map(S=>({...S,isDisplayed:!1}));return{...d,links:l}});var ot=e(42982);const ut=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:Me.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:Me.Z.settings.users.main}];var Ae=function(){return window&&window.strapi&&window.strapi.isEE?e(95662).Z:e(17651).Z}();const z=[].concat((0,ot.Z)(Ae),(0,ot.Z)(ut)),De=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:Me.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:Me.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:Me.Z.settings["transfer-tokens"].main}];var le=function(){return window&&window.strapi&&window.strapi.isEE?e(8353).Z:e(88506).Z}();const Nt=[].concat((0,ot.Z)(De),(0,ot.Z)(le)),Kt=(p,{settings:d,shouldUpdateStrapi:l})=>{const S=d.global.links,k=nt([...S,...Nt]).map(K=>({...K,hasNotification:K.id==="000-application-infos"&&l})),Z=Object.values(we()(d,"global")),_=[{...d.global,links:k},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:z},...Z];return{...p,menu:vt(_)}},at=(p=!1)=>{const{allPermissions:d}=(0,g.vn)(),{shouldUpdateStrapi:l}=(0,g.QI)(),{settings:S}=(0,g.j1)(),[{isLoading:k,menu:Z},_]=(0,t.useReducer)(Ye,Qe,()=>Kt(Qe,{settings:S,shouldUpdateStrapi:l}));return(0,t.useEffect)(()=>{p||(async()=>{const ue=async(st,rt)=>({hasPermission:await(0,g.qX)(d,st),path:rt}),re=(st=>st.reduce((rt,dt,Pt)=>{const It=mt=>mt.map((Yt,bt)=>ue(mt[bt].permissions,`${Pt}.links.${bt}`));return[...rt,...It(dt.links)]},[]))(Z),We=await Promise.all(re);_({type:"CHECK_PERMISSIONS_SUCCEEDED",data:We})})()},[d,p]),{isLoading:k,menu:Z}};var Mt=e(19631),Ft=e(78718),ct=e.n(Ft),Gt=e(98601),Ht=e.n(Gt);const St={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Dt=(p,d)=>(0,m.ZP)(p,l=>{switch(d.type){case"GET_DATA_SUCCEEDED":{l.isLoading=!1,l.showHeaderLoader=!1,l.initialData=ct()(d.data,p.fieldsToPick),l.modifiedData=ct()(d.data,p.fieldsToPick);break}case"ON_CANCEL":{l.modifiedData=p.initialData,l.formErrors={};break}case"ON_CHANGE":{d.inputType==="password"&&!d.value?Ht()(l.modifiedData,d.keys.split(".")):d.keys.includes("username")&&!d.value?ae()(l.modifiedData,d.keys.split("."),null):ae()(l.modifiedData,d.keys.split("."),d.value);break}case"ON_SUBMIT":{l.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{l.initialData=ct()(d.data,p.fieldsToPick),l.modifiedData=ct()(d.data,p.fieldsToPick),l.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{l.formErrors=d.errors,l.showHeaderButtonLoader=!1;break}default:return l}}),$t=(p,d)=>({...p,fieldsToPick:d}),zt=(p,d,l,S)=>{const[{formErrors:k,initialData:Z,isLoading:_,modifiedData:K,showHeaderButtonLoader:ue,showHeaderLoader:xe},re]=(0,t.useReducer)(Dt,St,()=>$t(St,S)),We=(0,g.lm)(),{lockApp:st,unlockApp:rt}=(0,g.o1)(),{get:dt,put:Pt}=(0,g.kY)();return(0,t.useEffect)(()=>{p&&(async()=>{try{const{data:{data:Ne}}=await dt(p);re({type:"GET_DATA_SUCCEEDED",data:Ne,fieldsToPick:S})}catch(Ne){console.error(Ne.response),We({type:"warning",message:{id:"notification.error"}})}})()},[p]),[{formErrors:k,initialData:Z,isLoading:_,modifiedData:K,showHeaderButtonLoader:ue,showHeaderLoader:xe},re,{handleCancel:()=>{re({type:"ON_CANCEL"})},handleChange:({target:{name:qe,value:Ne,type:et}})=>{re({type:"ON_CHANGE",inputType:et,keys:qe,value:Ne})},handleSubmit:async qe=>{qe.preventDefault();const Ne=await(0,Mt.R6)(K,d);if(re({type:"SET_ERRORS",errors:Ne||{}}),!Ne)try{st(),re({type:"ON_SUBMIT"});const et=we()(K,["confirmPassword","registrationToken"]);et.roles&&(et.roles=et.roles.map(kt=>kt.id));const{data:{data:Ke}}=await Pt(p,et);l(Ke),re({type:"ON_SUBMIT_SUCCEEDED",data:Ke}),We({type:"success",message:{id:"notification.success.saved"}})}catch(et){const Ke=et?.response?.payload??{data:{}};Ke?.data&&typeof Ke.data=="string"?We({type:"warning",message:Ke.data}):We({type:"warning",message:Ke.message});const kt=(0,Mt.Iz)(Ke);re({type:"SET_ERRORS",errors:kt})}finally{rt()}},setField:(qe,Ne)=>{re({type:"ON_CHANGE",keys:qe,value:Ne})}}]},ss=()=>(0,t.useContext)(u.$l),Vt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Xt=()=>{const{latestStrapiReleaseTag:p,shouldUpdateStrapi:d}=useAppInfos(),l=useNotification();return useEffect(()=>{d&&Vt&&l({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${p}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[p,d,l]),null},Cs=null,Qt=()=>(0,t.useContext)(u.Rj),Ot=(p,d,l,S)=>{const[k,Z]=(0,t.useState)(!1),_=(0,g.lm)(),{post:K}=(0,g.kY)(),{formatAPIError:ue}=(0,g.So)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:re}}}=await K(`${p}${d}/regenerate`);Z(!1),l(re)}catch(re){Z(!1),S?S(re):_({type:"warning",message:ue(re)})}},isLoadingConfirmation:k}}},17651:(b,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},88506:(b,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},36206:(b,f,e)=>{"use strict";e.d(f,{sg:()=>I,bU:()=>y,ZP:()=>B});var t=e(67294),u=e(88972),o=e(45697),v=e.n(o),g=e(41580),m=e(11047),T=e(86896),A=e(17205),M=e(50592);const W=()=>{const{changeLocale:R,localeNames:G}=(0,M.Z)(),{locale:F}=(0,T.Z)();return t.createElement(A.O,{label:G[F]},Object.keys(G).map(N=>t.createElement(A.s,{onClick:()=>R(N),key:N},G[N])))},h=(0,u.ZP)(g.x)`
  margin: 0 auto;
  width: 552px;
`,I=(0,u.ZP)(m.k)`
  flex-direction: column;
`,y=({children:R})=>t.createElement(h,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},R);y.propTypes={children:v().node.isRequired};const w=({children:R})=>t.createElement("div",null,t.createElement(m.k,{as:"header",justifyContent:"flex-end"},t.createElement(g.x,{paddingTop:6,paddingRight:8},t.createElement(W,null))),t.createElement(g.x,{paddingTop:2,paddingBottom:11},R));w.propTypes={children:v().node.isRequired};const B=w},77981:(b,f,e)=>{"use strict";e.d(f,{Z:()=>u});const u=[]},68070:(b,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(88972),u=e(25752);const v=(0,t.ZP)(u.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`},29773:(b,f,e)=>{"use strict";e.d(f,{Z:()=>C});var t=e(67294),u=e(79174),o=e(8934),v=e(94123),g=e(16364),m=e(185),T=e(41580),A=e(75515),M=e(11047),x=e(36213),W=e(29728),h=e(45697),I=e.n(h),y=e(86896),w=e(88972),B=e(94649),R=e(36206),G=e(79690),F=e(68070);const N=(0,w.ZP)(g.o)`
  ::-ms-reveal {
    display: none;
  }
`,me=({onSubmit:O,schema:P,children:ge})=>{const[oe,ze]=(0,t.useState)(!1),{formatMessage:a}=(0,y.Z)();return t.createElement(m.o,null,t.createElement(R.bU,null,t.createElement(B.J9,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:O,validationSchema:P,validateOnChange:!1},({values:Ve,errors:ye,handleChange:Ie})=>t.createElement(u.l0,{noValidate:!0},t.createElement(R.sg,null,t.createElement(G.Z,null),t.createElement(T.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{variant:"alpha",as:"h1"},a({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(T.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},a({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),ye.errorMessage&&t.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ye.errorMessage)),t.createElement(M.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(g.o,{error:ye.email?a({id:ye.email,defaultMessage:"This value is required."}):"",value:Ve.email,onChange:Ie,label:a({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:a({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(N,{error:ye.password?a({id:ye.password,defaultMessage:"This value is required."}):"",onChange:Ie,value:Ve.password,label:a({id:"global.password",defaultMessage:"Password"}),name:"password",type:oe?"text":"password",endAction:t.createElement(F.Z,{onClick:be=>{be.stopPropagation(),ze(Me=>!Me)},label:a(oe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},oe?t.createElement(o.Z,null):t.createElement(v.Z,null)),required:!0}),t.createElement(x.X,{onValueChange:be=>{Ie({target:{value:be,name:"rememberMe"}})},value:Ve.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},a({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(W.z,{fullWidth:!0,type:"submit"},a({id:"Auth.form.button.login",defaultMessage:"Login"}))))),ge),t.createElement(M.k,{justifyContent:"center"},t.createElement(T.x,{paddingTop:4},t.createElement(u.rU,{to:"/auth/forgot-password"},a({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};me.defaultProps={children:null,onSubmit(){}},me.propTypes={children:I().node,onSubmit:I().func,schema:I().shape({type:I().string.isRequired}).isRequired};const C=me},73347:(b,f,e)=>{"use strict";e.d(f,{Z:()=>T});var t=e(67294),u=e(45697),o=e.n(u),v=e(29773),g=e(36206);const m=A=>t.createElement(g.ZP,null,t.createElement(v.Z,{...A}));m.defaultProps={onSubmit:A=>A.preventDefault()},m.propTypes={onSubmit:o().func};const T=m},23330:(b,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>W});var t=e(67294),u=e(79174),o=e(185),v=e(53979),g=e(49066),m=e(89722),T=e(37323),A=e(20550),M=e(86896);const W=()=>{const{formatMessage:h}=(0,M.Z)();return(0,u.go)(),t.createElement(o.o,{labelledBy:"title"},t.createElement(v.T,{id:"title",title:h({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(g.D,null,t.createElement(m.x,{action:t.createElement(u.Qj,{variant:"secondary",endIcon:t.createElement(T.Z,null),to:"/"},h({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:h({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(A.Z,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(b,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={}},27858:(b,f,e)=>{"use strict";e.d(f,{Z:()=>u});const u=({data:o})=>{try{return Object.keys(o).reduce((v,g)=>{const m=o[g][0];return v[g]={id:m,defaultMessage:m},v},{})}catch{return{}}}},19631:(b,f,e)=>{"use strict";e.d(f,{R6:()=>o,ot:()=>x,Iz:()=>W.Z,Pp:()=>F,IF:()=>G,Qy:()=>me,WW:()=>I});var t=e(79174);const o=async(C,O)=>{let P=null;try{await O.validate(C,{abortEarly:!1})}catch(ge){P=(0,t.CJ)(ge)}return P};var v=e(67294),g=e(45697),m=e.n(g),T=e(16550);const A=({loadComponent:C})=>{const[O,P]=(0,v.useState)(null);return(0,v.useEffect)(()=>{(async()=>{try{const oe=await C();P(()=>oe.default)}catch(oe){console.log(oe)}})()},[C]),O?v.createElement(O,null):v.createElement(t.dO,null)},M=(C,O,P)=>v.createElement(T.AW,{render:()=>v.createElement(A,{loadComponent:C}),key:O,path:O,exact:P||!1});A.propTypes={loadComponent:m().func.isRequired};const x=M;var W=e(27858);const I=C=>C.filter((O,P,ge)=>ge.findIndex(oe=>oe.key===O.key)===P);var y=e(89734);const w=C=>sortBy(C,O=>O.name),B=null,G=C=>`/admin/${C}`,F=(C,O="")=>[C,O].filter(P=>P).join(" "),N={bufferToHex(C){return[...new Uint8Array(C)].map(O=>O.toString(16).padStart(2,"0")).join("")},async digestMessage(C){const O=new TextEncoder().encode(C),P=await crypto.subtle.digest("SHA-256",O);return this.bufferToHex(P)}};async function me(C){if(!C)return null;try{return await N.digestMessage(C.email)}catch{return null}}},69483:(b,f,e)=>{"use strict";e.d(f,{pl:()=>M,q5:()=>W.Z});var t=e(67294),u=e(79174),o=e(19631),v=e(18172);const g={data:[],isLoading:!0},T=(h,I)=>(0,v.ZP)(h,y=>{switch(I.type){case"GET_DATA_SUCCEEDED":{y.data=I.data,y.isLoading=!1;break}case"GET_DATA_ERROR":{y.isLoading=!1;break}default:return y}}),M=({ssoEnabled:h})=>{const[I,y]=(0,t.useReducer)(T,g),w=(0,u.lm)(),{get:B}=(0,u.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!h){y({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:G}=await B((0,o.IF)("providers"));y({type:"GET_DATA_SUCCEEDED",data:G})}catch(G){console.error(G),y({type:"GET_DATA_ERROR"}),w({type:"warning",message:{id:"notification.error"}})}})()},[B,h,w]),I};var x=e(94018),W=e(30084)},94018:(b,f,e)=>{"use strict";e.d(f,{Z:()=>h});var t=e(67294),u=e(86896),o=e(16550),v=e(79174),g=e(14293),m=e.n(g),T=e(30084);const A="strapi-notification-seat-limit",M="https://cloud.strapi.io/profile/billing",x="https://strapi.io/billing/request-seats",h=()=>{const{formatMessage:I}=(0,u.Z)();let{license:y}=(0,T.Z)();const w=(0,v.lm)(),{pathname:B}=(0,o.TH)();(0,t.useEffect)(()=>{if(!y?.data)return;const{enforcementUserCount:R,permittedSeats:G,licenseLimitStatus:F,isHostedOnStrapiCloud:N}=y?.data??{},me=!m()(G)&&!window.sessionStorage.getItem(`${A}-${B}`)&&(F==="AT_LIMIT"||F==="OVER_LIMIT");let C;F==="OVER_LIMIT"?C="warning":F==="AT_LIMIT"&&(C="softWarning"),me&&w({type:C,message:I({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:F}),title:I({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:F,enforcementUserCount:R,permittedSeats:G}),link:{url:N?M:x,label:I({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:N})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${A}-${B}`,!0)}})},[w,y.data,B,I])}},30084:(b,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(79174),u=e(88767),o=e(87751);const g=()=>{const m=(0,t.ss)(o.Z.settings.users),{isLoading:T,allowedActions:{canRead:A,canCreate:M,canUpdate:x,canDelete:W}}=m,h=A&&M&&x&&W,{get:I}=(0,t.kY)(),y=async()=>{const{data:{data:B}}=await I("/admin/license-limit-information");return B};return{license:(0,u.useQuery)(["ee","license-limit-info"],y,{enabled:!T&&h})}}},95662:(b,f,e)=>{"use strict";e.d(f,{Z:()=>v});var t=e(87751);const u=[];window.strapi.features.isEnabled(window.strapi.features.AUDIT_LOGS)&&u.push({intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main});const v=u},8353:(b,f,e)=>{"use strict";e.d(f,{Z:()=>o});var t=e(87751);const u=[];window.strapi.features.isEnabled(window.strapi.features.SSO)&&u.push({intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}),window.strapi.features.isEnabled(window.strapi.features.REVIEW_WORKFLOWS)&&u.push({intlLabel:{id:"Settings.review-workflows.page.title",defaultMessage:"Review Workflows"},to:"/settings/review-workflows",id:"review-workflows",isDisplayed:!1,permissions:t.Z.settings["review-workflows"].main});const o=u},35499:(b,f,e)=>{"use strict";e.d(f,{Z:()=>W});var t=e(67294),u=e(16550),o=e(86896),v=e(36808),g=e.n(v),m=e(79174),T=e(19631);const M=()=>{const{params:{authResponse:h}}=(0,u.$B)("/auth/login/:authResponse"),{formatMessage:I}=(0,o.Z)(),{push:y}=(0,u.k6)(),w=(0,t.useRef)(I);let B=(0,t.useCallback)(()=>{y(`/auth/oops?info=${encodeURIComponent(w.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[y]);const{get:R}=(0,m.kY)(),G=(0,t.useCallback)(async()=>{try{const F=g().get("jwtToken");if(m.I8.clearAppStorage(),F){m.I8.setToken(F,!0);const N=(0,T.IF)("users/me"),{data:{data:me}}=await R(N);m.I8.setUserInfo(me,!0),g().remove("jwtToken"),y("/auth/login")}}catch{B()}},[R,y,B]);return(0,t.useEffect)(()=>{h==="error"&&B(),h==="success"&&G()},[h,G,B]),t.createElement(m.dO,null)},W=[{Component:()=>({default:M}),to:"/auth/login/:authResponse",exact:!0}]},9442:(b,f,e)=>{"use strict";e.d(f,{Z:()=>B});var t=e(67294),u=e(45697),o=e.n(u),v=e(88972),g=e(70004),m=e(41580),T=e(11047),A=e(75515),M=e(86896),x=e(29773),W=e(69483),h=e(36206),I=e(51780);const y=(0,v.ZP)(g.i)`
  flex: 1;
`,w=R=>{const G=strapi.features.isEnabled(strapi.features.SSO),{isLoading:F,data:N}=(0,W.pl)({ssoEnabled:G}),{formatMessage:me}=(0,M.Z)();return!G||!F&&N.length===0?t.createElement(h.ZP,null,t.createElement(x.Z,{...R})):t.createElement(h.ZP,null,t.createElement(x.Z,{...R},t.createElement(m.x,{paddingTop:7},t.createElement(T.k,{direction:"column",alignItems:"stretch",gap:7},t.createElement(T.k,null,t.createElement(y,null),t.createElement(m.x,{paddingLeft:3,paddingRight:3},t.createElement(A.Z,{variant:"sigma",textColor:"neutral600"},me({id:"Auth.login.sso.divider"}))),t.createElement(y,null)),t.createElement(I.Z,{providers:N,displayAllProviders:!1})))))};w.defaultProps={onSubmit:R=>R.preventDefault(),requestError:null},w.propTypes={formErrors:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired,onSubmit:o().func,requestError:o().object};const B=w},51780:(b,f,e)=>{"use strict";e.d(f,{Z:()=>B});var t=e(67294),u=e(45697),o=e.n(u),v=e(11047),g=e(84495),m=e(75515),T=e(11276),A=e(74571),M=e(88972),x=e(86896),W=e(73727);const h=M.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:R})=>R.colors.neutral150};
  border-radius: ${({theme:R})=>R.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:R})=>R.colors.neutral600};
`,I=(0,M.ZP)(v.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:R})=>R.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:R})=>R.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:R})=>R.spaces[2]};
  }
`,y=({provider:R})=>t.createElement(g.u,{label:R.displayName},t.createElement(h,{href:`${strapi.backendURL}/admin/connect/${R.uid}`},R.icon?t.createElement("img",{src:R.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(m.Z,null,R.displayName)));y.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const w=({providers:R,displayAllProviders:G})=>{const{formatMessage:F}=(0,x.Z)();return G?t.createElement(T.r,{gap:4},R.map(N=>t.createElement(A.P,{key:N.uid,col:4},t.createElement(y,{provider:N})))):R.length>2&&!G?t.createElement(T.r,{gap:4},R.slice(0,2).map(N=>t.createElement(A.P,{key:N.uid,col:4},t.createElement(y,{provider:N}))),t.createElement(A.P,{col:4},t.createElement(g.u,{label:F({id:"global.see-more"})},t.createElement(h,{as:W.rU,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(I,{justifyContent:"center"},R.map(N=>t.createElement(y,{key:N.uid,provider:N})))};w.defaultProps={displayAllProviders:!0},w.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const B=w},98837:(b,f,e)=>{"use strict";e.d(f,{Z:()=>C});var t=e(67294),u=e(16550),o=e(88972),v=e(79174),g=e(70004),m=e(185),T=e(41580),A=e(75515),M=e(11047),x=e(88655),W=e(29728),h=e(86896),I=e(69483),y=e(36206),w=e(51780),B=e(79690);const R=(0,o.ZP)(g.i)`
  flex: 1;
`,F=()=>{const O=strapi.features.isEnabled(strapi.features.SSO),{push:P}=(0,u.k6)(),{formatMessage:ge}=(0,h.Z)(),{isLoading:oe,data:ze}=(0,I.pl)({ssoEnabled:O}),a=()=>{P("/auth/login")};return!O||!oe&&ze.length===0?t.createElement(u.l_,{to:"/auth/login"}):t.createElement(y.ZP,null,t.createElement(m.o,null,t.createElement(y.bU,null,t.createElement(y.sg,null,t.createElement(B.Z,null),t.createElement(T.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{as:"h1",variant:"alpha"},ge({id:"Auth.form.welcome.title"}))),t.createElement(T.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},ge({id:"Auth.login.sso.subtitle"})))),t.createElement(M.k,{direction:"column",alignItems:"stretch",gap:7},oe?t.createElement(M.k,{justifyContent:"center"},t.createElement(x.a,null,ge({id:"Auth.login.sso.loading"}))):t.createElement(w.Z,{providers:ze}),t.createElement(M.k,null,t.createElement(R,null),t.createElement(T.x,{paddingLeft:3,paddingRight:3},t.createElement(A.Z,{variant:"sigma",textColor:"neutral600"},ge({id:"or"}))),t.createElement(R,null)),t.createElement(W.z,{fullWidth:!0,size:"L",onClick:a},ge({id:"Auth.form.button.login.strapi"})))),t.createElement(M.k,{justifyContent:"center"},t.createElement(T.x,{paddingTop:4},t.createElement(v.rU,{to:"/auth/forgot-password"},t.createElement(A.Z,{variant:"pi"},ge({id:"Auth.link.forgot-password"})))))))};var N=e(42243);const C={...N.Z,providers:{Component:F,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(b,f,e)=>{"use strict";e.d(f,{Z:()=>u});const u={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},"review-workflows":{main:[{action:"admin::review-workflows.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(b,f,e)=>{"use strict";b.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
