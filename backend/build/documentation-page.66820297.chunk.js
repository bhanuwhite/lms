"use strict";(self.webpackChunklms=self.webpackChunklms||[]).push([[9789],{75730:(O,c,t)=>{t.r(c),t.d(c,{default:()=>S});var e=t(67294),a=t(86896),o=t(79174),r=t(64593),m=t(17034),D=t(49066),f=t(41580),E=t(185),T=t(53979),A=t(29728),C=t(38939),B=t(8060),h=t(79031),n=t(37909),l=t(75515),i=t(15234),s=t(11047),u=t(12028),y=t(8934),R=t(30815),d=t(20022),p=t(80826),M=t(93742);const $=v=>{const P=(()=>v.startsWith("/")?`${window.strapi.backendURL}${v}`:v.startsWith("http")?v:`${window.strapi.backendURL}/${v}`)();return window.open(P,"_blank"),window.focus()};var b=t(90306);const S=()=>{(0,o.go)();const{formatMessage:v}=(0,a.Z)(),{data:P,isLoading:W,isError:V,deleteMutation:w,regenerateDocMutation:j}=(0,b.Z)(),[x,L]=(0,e.useState)(!1),[N,I]=(0,e.useState)(!1),[H,Q]=(0,e.useState)(),z=4,F=(P?.docVersions?.length||0)+1,U=g=>{const Z=P?.prefix.startsWith("/")?"":"/";$(`${Z}${P?.prefix}/v${g}`)},X=g=>{j.mutate({version:g,prefix:P?.prefix})},G=()=>{L(!x)},Y=async()=>{I(!0),await w.mutateAsync({prefix:P?.prefix,version:H}),L(!x),I(!1)},J=g=>{Q(g),L(!x)},K=v({id:(0,M.O)("plugin.name"),defaultMessage:"Documentation"});return V?e.createElement(m.A,null,e.createElement(D.D,null,e.createElement(f.x,{paddingTop:8},e.createElement(o.Hn,null)))):e.createElement(m.A,null,e.createElement(r.q,{title:K}),e.createElement(E.o,{"aria-busy":W},e.createElement(T.T,{title:K,subtitle:v({id:(0,M.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(o.jW,{permissions:p.Z.open},e.createElement(A.z,{onClick:()=>U(P?.currentVersion),startIcon:e.createElement(y.Z,null)},v({id:(0,M.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(D.D,null,W&&e.createElement(o.dO,null,"Plugin is loading"),P?.docVersions.length?e.createElement(C.i,{colCount:z,rowCount:F},e.createElement(B.h,null,e.createElement(h.Tr,null,e.createElement(n.Th,null,e.createElement(l.Z,{variant:"sigma",textColor:"neutral600"},v({id:(0,M.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(n.Th,null,e.createElement(l.Z,{variant:"sigma",textColor:"neutral600"},v({id:(0,M.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(i.p,null,P.docVersions.sort((g,Z)=>g.generatedDate<Z.generatedDate?1:-1).map(g=>e.createElement(h.Tr,{key:g.version},e.createElement(n.Td,{width:"50%"},e.createElement(l.Z,null,g.version)),e.createElement(n.Td,{width:"50%"},e.createElement(l.Z,null,g.generatedDate)),e.createElement(n.Td,null,e.createElement(s.k,{justifyContent:"end",...o.UW},e.createElement(u.h,{onClick:()=>U(g.version),noBorder:!0,icon:e.createElement(y.Z,null),label:v({id:(0,M.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${g.version}`})}),e.createElement(o.jW,{permissions:p.Z.regenerate},e.createElement(u.h,{onClick:()=>X(g.version),noBorder:!0,icon:e.createElement(R.Z,null),label:v({id:(0,M.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${g.version}`})})),e.createElement(o.jW,{permissions:p.Z.update},g.version!==P.currentVersion&&e.createElement(u.h,{onClick:()=>J(g.version),noBorder:!0,icon:e.createElement(d.Z,null),label:v({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${g.version}`})})))))))):e.createElement(o.x7,null)),e.createElement(o.QH,{isConfirmButtonLoading:N,onConfirm:Y,onToggleDialog:G,isOpen:x})))}},90306:(O,c,t)=>{t.d(c,{Z:()=>D});var e=t(88767),a=t(79174),o=t(49950),r=t(798);const D=()=>{const f=(0,e.useQueryClient)(),E=(0,a.lm)(),{isLoading:T,isError:A,data:C}=(0,e.useQuery)(["get-documentation",o.Z],async()=>{try{const{data:d}=await l(`/${o.Z}/getInfos`);return d}catch{return E({type:"warning",message:{id:"notification.error"}}),null}}),{del:B,post:h,put:n,get:l}=(0,a.kY)(),i=d=>{E({type:"warning",message:d.response.payload.message})},s=(d,p)=>{f.invalidateQueries("get-documentation"),E({type:d,message:{id:(0,r.Z)(p)}})},u=(0,e.useMutation)(({prefix:d,version:p})=>B(`${d}/deleteDoc/${p}`),{onSuccess:()=>s("info","notification.delete.success"),onError:d=>i(d)}),y=(0,e.useMutation)(({prefix:d,body:p})=>n(`${d}/updateSettings`,p),{onSuccess:()=>s("success","notification.update.success"),onError:i}),R=(0,e.useMutation)(({prefix:d,version:p})=>h(`${d}/regenerateDoc`,{version:p}),{onSuccess:()=>s("info","notification.generate.success"),onError:d=>i(d)});return{data:C,isLoading:T,isError:A,deleteMutation:u,submitMutation:y,regenerateDocMutation:R}}},798:(O,c,t)=>{t.d(c,{Z:()=>o});var e=t(49950);const o=r=>`${e.Z}.${r}`},93742:(O,c,t)=>{t.d(c,{O:()=>e.Z});var e=t(798)},49066:(O,c,t)=>{t.d(c,{D:()=>r});var e=t(67294),a=t(45697),o=t(41580);const r=({children:m})=>e.createElement(o.x,{paddingLeft:10,paddingRight:10},m);r.propTypes={children:a.node.isRequired}},53979:(O,c,t)=>{t.d(c,{A:()=>h,T:()=>C});var e=t(67294),a=t(45697),o=t(88972),r=t(41580),m=t(11047);const D=n=>{const l=(0,e.useRef)(null),[i,s]=(0,e.useState)(!0),u=([y])=>{s(y.isIntersecting)};return(0,e.useEffect)(()=>{const y=l.current,R=new IntersectionObserver(u,n);return y&&R.observe(l.current),()=>{y&&R.disconnect()}},[l,n]),[l,i]};var f=t(95355);const E=(n,l)=>{const i=(0,f.W)(l);(0,e.useLayoutEffect)(()=>{const s=new ResizeObserver(i);return Array.isArray(n)?n.forEach(u=>{u.current&&s.observe(u.current)}):n.current&&s.observe(n.current),()=>{s.disconnect()}},[n,i])};var T=t(75515);const A=()=>{const n=(0,e.useRef)(null),[l,i]=(0,e.useState)(null),[s,u]=D({root:null,rootMargin:"0px",threshold:0});return E(s,()=>{s.current&&i(s.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{n.current&&i(n.current.getBoundingClientRect())},[n]),{containerRef:s,isVisible:u,baseHeaderLayoutRef:n,headerSize:l}},C=n=>{const{containerRef:l,isVisible:i,baseHeaderLayoutRef:s,headerSize:u}=A();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:u?.height},ref:l},i&&e.createElement(h,{ref:s,...n})),!i&&e.createElement(h,{...n,sticky:!0,width:u?.width}))};C.displayName="HeaderLayout";const B=(0,o.ZP)(r.x)`
  width: ${n=>n.width}px;
`,h=e.forwardRef(({navigationAction:n,primaryAction:l,secondaryAction:i,subtitle:s,title:u,sticky:y,width:R,...d},p)=>{const M=typeof s=="string";return y?e.createElement(B,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:R,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(m.k,{justifyContent:"space-between"},e.createElement(m.k,null,n&&e.createElement(r.x,{paddingRight:3},n),e.createElement(r.x,null,e.createElement(T.Z,{variant:"beta",as:"h1",...d},u),M?e.createElement(T.Z,{variant:"pi",textColor:"neutral600"},s):s),i?e.createElement(r.x,{paddingLeft:4},i):null),e.createElement(m.k,null,l?e.createElement(r.x,{paddingLeft:2},l):void 0))):e.createElement(r.x,{ref:p,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0},n?e.createElement(r.x,{paddingBottom:2},n):null,e.createElement(m.k,{justifyContent:"space-between"},e.createElement(m.k,{minWidth:0},e.createElement(T.Z,{as:"h1",variant:"alpha",...d},u),i?e.createElement(r.x,{paddingLeft:4},i):null),l),M?e.createElement(T.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},s):s)});h.displayName="BaseHeaderLayout",h.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},h.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,sticky:a.bool,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired,width:a.number},C.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},C.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired}},17034:(O,c,t)=>{t.d(c,{A:()=>f});var e=t(67294),a=t(45697),o=t(88972),r=t(41580);const m=(0,o.ZP)(r.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:E})=>E?"auto 1fr":"1fr"};
`,D=(0,o.ZP)(r.x)`
  overflow-x: hidden;
`,f=({sideNav:E,children:T})=>e.createElement(m,{hasSideNav:Boolean(E)},E,e.createElement(D,{paddingBottom:10},T));f.defaultProps={sideNav:void 0},f.propTypes={children:a.node.isRequired,sideNav:a.node}},185:(O,c,t)=>{t.d(c,{o:()=>m});var e=t(67294),a=t(45697),o=t(88972);const r=o.ZP.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:D,...f})=>{const E=D||"main-content-title";return e.createElement(r,{"aria-labelledby":E,id:"main-content",tabIndex:-1,...f})};m.defaultProps={labelledBy:void 0},m.propTypes={labelledBy:a.string}},30815:(O,c,t)=>{t.d(c,{Z:()=>o});var e=t(85893);const a=r=>(0,e.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.681 2.804A9.64 9.64 0 0 0 11.818 2C6.398 2 2 6.48 2 12c0 5.521 4.397 10 9.818 10 2.03 0 4.011-.641 5.67-1.835a9.987 9.987 0 0 0 3.589-4.831 1.117 1.117 0 0 0-.664-1.418 1.086 1.086 0 0 0-1.393.676 7.769 7.769 0 0 1-2.792 3.758 7.546 7.546 0 0 1-4.41 1.428V4.222h.002a7.492 7.492 0 0 1 3.003.625 7.61 7.61 0 0 1 2.5 1.762l.464.551-2.986 3.042a.186.186 0 0 0 .129.316H22V3.317a.188.188 0 0 0-.112-.172.179.179 0 0 0-.199.04l-2.355 2.4-.394-.468-.02-.02a9.791 9.791 0 0 0-3.239-2.293Zm-3.863 1.418V2v2.222Zm0 0v15.556c-4.216 0-7.636-3.484-7.636-7.778s3.42-7.777 7.636-7.778Z",fill:"#212134"})}),o=a}}]);
