"use strict";(self.webpackChunklms=self.webpackChunklms||[]).push([[9789],{75730:(O,c,t)=>{t.r(c),t.d(c,{default:()=>S});var e=t(67294),n=t(86896),o=t(41647),s=t(64593),m=t(17034),T=t(185),h=t(53979),E=t(29728),y=t(49066),B=t(38939),C=t(8060),R=t(79031),f=t(37909),a=t(75515),d=t(15234),i=t(11047),r=t(12028),g=t(8934),P=t(30815),l=t(20022),v=t(80826),M=t(93742);const K=p=>{const D=(()=>p.startsWith("/")?`${strapi.backendURL}${p}`:p.startsWith("http")?p:`${strapi.backendURL}/${p}`)();return window.open(D,"_blank"),window.focus()};var $=t(90306);const S=()=>{(0,o.go)();const{formatMessage:p}=(0,n.Z)(),{data:D,isLoading:W,deleteMutation:V,regenerateDocMutation:j}=(0,$.Z)(),[A,L]=(0,e.useState)(!1),[N,I]=(0,e.useState)(!1),[w,H]=(0,e.useState)(),Q=4,z=(D?.docVersions?.length||0)+1,U=u=>{const Z=D?.prefix.startsWith("/")?"":"/";K(`${Z}${D?.prefix}/v${u}`)},F=u=>{j.mutate({version:u,prefix:D?.prefix})},X=()=>{L(!A)},G=async()=>{I(!0),await V.mutateAsync({prefix:D?.prefix,version:w}),L(!A),I(!1)},Y=u=>{H(u),L(!A)},b=p({id:(0,M.O)("plugin.name"),defaultMessage:"Documentation"});return e.createElement(m.A,null,e.createElement(s.q,{title:b}),e.createElement(T.o,{"aria-busy":W},e.createElement(h.T,{title:b,subtitle:p({id:(0,M.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(o.jW,{permissions:v.Z.open},e.createElement(E.z,{onClick:U,startIcon:e.createElement(g.Z,null)},p({id:(0,M.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(y.D,null,W&&e.createElement(o.dO,null,"Plugin is loading"),D?.docVersions.length?e.createElement(B.i,{colCount:Q,rowCount:z},e.createElement(C.h,null,e.createElement(R.Tr,null,e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},p({id:(0,M.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},p({id:(0,M.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(d.p,null,D.docVersions.sort((u,Z)=>u.generatedDate<Z.generatedDate?1:-1).map(u=>e.createElement(R.Tr,{key:u.version},e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,u.version)),e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,u.generatedDate)),e.createElement(f.Td,null,e.createElement(i.k,{justifyContent:"end",...o.UW},e.createElement(r.h,{onClick:()=>U(u.version),noBorder:!0,icon:e.createElement(g.Z,null),label:p({id:(0,M.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${u.version}`})}),e.createElement(o.jW,{permissions:v.Z.regenerate},e.createElement(r.h,{onClick:()=>F(u.version),noBorder:!0,icon:e.createElement(P.Z,null),label:p({id:(0,M.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${u.version}`})})),e.createElement(o.jW,{permissions:v.Z.update},u.version!==D.currentVersion&&e.createElement(r.h,{onClick:()=>Y(u.version),noBorder:!0,icon:e.createElement(l.Z,null),label:p({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${u.version}`})})))))))):e.createElement(o.x7,null)),e.createElement(o.QH,{isConfirmButtonLoading:N,onConfirm:G,onToggleDialog:X,isOpen:A})))}},90306:(O,c,t)=>{t.d(c,{Z:()=>T});var e=t(88767),n=t(41647),o=t(49950),s=t(798);const T=()=>{const h=(0,e.useQueryClient)(),E=(0,n.lm)(),{isLoading:y,data:B}=(0,e.useQuery)(["get-documentation",o.Z],async()=>{try{const{data:l}=await a(`/${o.Z}/getInfos`);return l}catch{return E({type:"warning",message:{id:"notification.error"}}),null}}),{del:C,post:R,put:f,get:a}=(0,n.kY)(),d=l=>{E({type:"warning",message:l.response.payload.message})},i=(l,v)=>{h.invalidateQueries("get-documentation"),E({type:l,message:{id:(0,s.Z)(v)}})},r=(0,e.useMutation)(({prefix:l,version:v})=>C(`${l}/deleteDoc/${v}`),{onSuccess:()=>i("info","notification.delete.success"),onError:l=>d(l)}),g=(0,e.useMutation)(({prefix:l,body:v})=>f(`${l}/updateSettings`,v),{onSuccess:()=>i("success","notification.update.success"),onError:d}),P=(0,e.useMutation)(({prefix:l,version:v})=>R(`${l}/regenerateDoc`,{version:v}),{onSuccess:()=>i("info","notification.generate.success"),onError:l=>d(l)});return{data:B,isLoading:y,deleteMutation:r,submitMutation:g,regenerateDocMutation:P}}},798:(O,c,t)=>{t.d(c,{Z:()=>o});var e=t(49950);const o=s=>`${e.Z}.${s}`},93742:(O,c,t)=>{t.d(c,{O:()=>e.Z});var e=t(798)},49066:(O,c,t)=>{t.d(c,{D:()=>s});var e=t(67294),n=t(45697),o=t(41580);const s=({children:m})=>e.createElement(o.x,{paddingLeft:10,paddingRight:10},m);s.propTypes={children:n.node.isRequired}},53979:(O,c,t)=>{t.d(c,{T:()=>C});var e=t(67294),n=t(45697),o=t(88972),s=t(41580),m=t(11047);const T=a=>{const d=(0,e.useRef)(null),[i,r]=(0,e.useState)(!0),g=([P])=>{r(P.isIntersecting)};return(0,e.useEffect)(()=>{const P=d.current,l=new IntersectionObserver(g,a);return P&&l.observe(d.current),()=>{P&&l.disconnect()}},[d,a]),[d,i]};var h=t(95355);const E=(a,d)=>{const i=(0,h.W)(d);(0,e.useLayoutEffect)(()=>{const r=new ResizeObserver(i);return Array.isArray(a)?a.forEach(g=>{g.current&&r.observe(g.current)}):a.current&&r.observe(a.current),()=>{r.disconnect()}},[a,i])};var y=t(75515);const B=()=>{const a=(0,e.useRef)(null),[d,i]=(0,e.useState)(null),[r,g]=T({root:null,rootMargin:"0px",threshold:0});return E(r,()=>{r.current&&i(r.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{a.current&&i(a.current.getBoundingClientRect())},[a]),{containerRef:r,isVisible:g,baseHeaderLayoutRef:a,headerSize:d}},C=a=>{const{containerRef:d,isVisible:i,baseHeaderLayoutRef:r,headerSize:g}=B();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:g?.height},ref:d},i&&e.createElement(f,{ref:r,...a})),!i&&e.createElement(f,{...a,sticky:!0,width:g?.width}))};C.displayName="HeaderLayout";const R=(0,o.ZP)(s.x)`
  width: ${a=>a.width}px;
`,f=e.forwardRef(({navigationAction:a,primaryAction:d,secondaryAction:i,subtitle:r,title:g,sticky:P,width:l,...v},M)=>{const x=typeof r=="string";return P?e.createElement(R,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:l,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(m.k,{justifyContent:"space-between"},e.createElement(m.k,null,a&&e.createElement(s.x,{paddingRight:3},a),e.createElement(s.x,null,e.createElement(y.Z,{variant:"beta",as:"h1",...v},g),x?e.createElement(y.Z,{variant:"pi",textColor:"neutral600"},r):r),i?e.createElement(s.x,{paddingLeft:4},i):null),e.createElement(m.k,null,d?e.createElement(s.x,{paddingLeft:2},d):void 0))):e.createElement(s.x,{ref:M,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0},a?e.createElement(s.x,{paddingBottom:2},a):null,e.createElement(m.k,{justifyContent:"space-between"},e.createElement(m.k,{minWidth:0},e.createElement(y.Z,{as:"h1",variant:"alpha",...v},g),i?e.createElement(s.x,{paddingLeft:4},i):null),d),x?e.createElement(y.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},r):r)});f.displayName="BaseHeaderLayout",f.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},f.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,sticky:n.bool,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired,width:n.number},C.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},C.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired}},17034:(O,c,t)=>{t.d(c,{A:()=>h});var e=t(67294),n=t(45697),o=t(88972),s=t(41580);const m=(0,o.ZP)(s.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:E})=>E?"auto 1fr":"1fr"};
`,T=(0,o.ZP)(s.x)`
  overflow-x: hidden;
`,h=({sideNav:E,children:y})=>e.createElement(m,{hasSideNav:Boolean(E)},E,e.createElement(T,{paddingBottom:10},y));h.defaultProps={sideNav:void 0},h.propTypes={children:n.node.isRequired,sideNav:n.node}},185:(O,c,t)=>{t.d(c,{o:()=>m});var e=t(67294),n=t(45697),o=t(88972);const s=o.ZP.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:T,...h})=>{const E=T||"main-content-title";return e.createElement(s,{"aria-labelledby":E,id:"main-content",tabIndex:-1,...h})};m.defaultProps={labelledBy:void 0},m.propTypes={labelledBy:n.string}},30815:(O,c,t)=>{t.d(c,{Z:()=>o});var e=t(85893);const n=s=>(0,e.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.681 2.804A9.64 9.64 0 0 0 11.818 2C6.398 2 2 6.48 2 12c0 5.521 4.397 10 9.818 10 2.03 0 4.011-.641 5.67-1.835a9.987 9.987 0 0 0 3.589-4.831 1.117 1.117 0 0 0-.664-1.418 1.086 1.086 0 0 0-1.393.676 7.769 7.769 0 0 1-2.792 3.758 7.546 7.546 0 0 1-4.41 1.428V4.222h.002a7.492 7.492 0 0 1 3.003.625 7.61 7.61 0 0 1 2.5 1.762l.464.551-2.986 3.042a.186.186 0 0 0 .129.316H22V3.317a.188.188 0 0 0-.112-.172.179.179 0 0 0-.199.04l-2.355 2.4-.394-.468-.02-.02a9.791 9.791 0 0 0-3.239-2.293Zm-3.863 1.418V2v2.222Zm0 0v15.556c-4.216 0-7.636-3.484-7.636-7.778s3.42-7.777 7.636-7.778Z",fill:"#212134"})}),o=n}}]);
