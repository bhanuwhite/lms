<ng-container *ngIf="roleName?.toLowerCase() === 'technology'">
  <div class="surface-ground px-4 py-3">
    <div class="row align-items-center">
      <div class="col-lg-6 col-md-6 d-flex align-items-center">
        <h1 style="font-size: 1.5rem;"><b> Technology</b> </h1>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12 d-flex justify-content-end align-items-center">
        <button class="mb-2 btn btn-primary" (click)="addTech()">Add Technology</button>
      </div>
    </div>
    <p-table [value]="techData"   class="table table-hover" [paginator]="true"
    [rows]="5"
    [showCurrentPageReport]="true"  [rowsPerPageOptions]="[5, 10, 15]" >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="attributes.technologies.tech" style="width:20%">Technology <p-sortIcon
              field="tech"></p-sortIcon></th>
          <th style="width:20%">Action </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td><b>{{product.attributes.technologies.tech}}</b></td>
          <td>
            <div class="d-flex align-items-center">
              <span class="material-icons text-primary cursor-pointer "
                (click)="editTech(product.id,product.attributes.technologies.tech)">
                edit
              </span>
              <span class="material-icons text-danger cursor-pointer ms-3" (click)="deleteTech(product)">
                delete
              </span>
            </div>
          </td>

        </tr>
      </ng-template>
    </p-table>
    </div>
 
</ng-container>

<ng-container *ngIf="roleName?.toLowerCase() === 'category'">
  <div class="surface-ground px-4 py-3">
    <div class="row align-items-center">
      <div class="col-lg-6 col-md-6 col-sm-12 d-flex align-items-center">
        <h1 style="font-size: 1.5rem;"><b> Category</b> </h1>
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12 d-flex justify-content-end align-items-center">
        <button class="mb-2 btn btn-primary" (click)="addCat()">Add Category</button>
      </div>
    </div>
    <p-table [value]="categoryData"   class="table" [paginator]="true"
    [rows]="5"
    [showCurrentPageReport]="true"  [rowsPerPageOptions]="[5, 10, 15]" >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="attributes.categories.tech" style="width:20%">Category <p-sortIcon
              field="category"></p-sortIcon></th>
          <th style="width:20%">Action </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td><b>{{product.attributes.categories.tech}}</b></td>
          <td>
            <div class="d-flex align-items-center">
              <span class="material-icons text-primary cursor-pointer "
                (click)="editCategory(product.id,product.attributes.categories.tech)">
                edit
              </span>
              <span class="material-icons text-danger cursor-pointer ms-3" (click)="deleteCat(product)">
                delete
              </span>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
    </div>
</ng-container>

<div>
  <p-toast></p-toast>
  <p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>

</div>

<p-dialog header="{{headerName}}" [visible]="showPopup" [modal]="true" [style]="{'width':'40vw'}">
  <form [formGroup]="techForm" (ngSubmit)="techSubmit()">
    <div>
      <label for="tech">{{headerName}} : </label>
      <input pInputText id="tech" type="text" formControlName="tech" class="p-inputtext-md form-control mt-1"
        placeholder='Enter  {{headerName}}  name ' />

    </div>
    <div class="d-flex justify-content-between m-3">
      <button class="btn btn-secondary btn-sm" type="reset" (click)="showPopup = false"> Clear </button>
      <button class="btn btn-success btn-sm" type="submit">Submit</button>
    </div>
  </form>
</p-dialog>
