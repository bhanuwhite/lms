<div class="surface-ground px-4 py-3">
  <div class="row d-flex ">
    <div class="col-lg-3 " *ngFor="let course of allCourses">
      <div>
        <div class="card p-2 shadow-2 m-2">
          <div class="d-flex justify-content-between align-items-center">
            <h4 class="mb-2 p-0">
              Exam
            </h4>
          </div>
          <hr class="m-0 p-0">
          <div class="card-body p-0 m-2 cursor-pointer align-items-center d-flex justify-content-between"
            (click)="showQuizQuestions(course)">
            <h4 class="p-0 m-0 textOverflow" style="color: #0d6efd;">{{ course}}</h4>
          </div>
          <hr class="m-0 p-0">
          <div class="d-flex justify-content-end align-items-center pt-2">
            <button class="btn p-0" style="color:#0d6efd ;" (click)="showDialog(course)"> <i
                class="pi pi-plus cursor-pointer"></i> Add </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add dialog start -->
  <p-dialog header="Add Question" [(visible)]="visible" [style]="{width: '50vw'}" styleClass="active" [modal]="true">
    <hr>
    <form [formGroup]="addQuizGroup" (ngSubmit)="onSubmitQuestionDetails()">
      <div class="p-fluid grid">
        <div class="field mt-2 w-100">
          <label for="title">Coursename:</label>
          <span>
            <input type="text" class="bg-light-grey input-shadow w-100 p-inputtext" name="Course_Name"
              class="form-control" required formControlName="Course_Name" pInputText placeholder="Course_Name">
            <small class="p-error block"
              *ngIf="addQuizGroup.get('Course_Name')?.invalid && addQuizGroup.get('Course_Name')?.touched">
              Course_Name is required
            </small>
          </span>
        </div>
        <div class="field mt-2 w-100">
          <label for="title">Level :</label>
          <p-dropdown [options]="level" optionLabel="level_name" formControlName="level"
            placeholder="Select level"></p-dropdown>
          <small class="p-error block" *ngIf="addQuizGroup.get('level')?.invalid && addQuizGroup.get('level')?.touched">
            *level is required
          </small>
        </div>
        <div class="field mt-2 w-100">
          <label for="title">Question :</label>
          <span>
            <input type="text" class="bg-light-grey input-shadow w-100 p-inputtext" name="question" class="form-control"
              required formControlName="question" pInputText placeholder="Question">
            <small class="p-error block"
              *ngIf="addQuizGroup.get('question')?.invalid &&  addQuizGroup.get('question')?.touched">
              *Question is required
            </small>
          </span>
        </div>
        <div class="field mt-2 m-2 w-35">
          <label for="title">Option (A)</label>
          <span>
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" style="resize: none;"
              cols="30" formControlName="option1" pInputText>
            <small class="p-error block"
              *ngIf="addQuizGroup.get('option1')?.invalid  && addQuizGroup.get('option1')?.touched">
              *Option(A) name is required
            </small>
          </span>
        </div>
        <div class="field mt-2 m-2 w-35">
          <label for="title">Option (B)</label>
          <span>
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option2"
              pInputText>
            <small class="p-error block"
              *ngIf="addQuizGroup.get('option2')?.invalid  && addQuizGroup.get('option2')?.touched">
              *Option(B) is required</small>
          </span>
        </div>
        <div class="field mt-2 m-2 w-35">
          <label for="title">Option (C)</label>
          <span>
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option3"
              pInputText>
            <small class="p-error block"
              *ngIf="addQuizGroup.get('option3')?.invalid  && addQuizGroup.get('option3')?.touched">
              *Option(C) is required</small>
          </span>
        </div>
        <div class="field mt-2 m-2 w-35">
          <label for="title">Option (D)</label>
          <span>
            <input type="text" required class="bg-light-grey input-shadow w-100 p-inputtext" formControlName="option4"
              pInputText>
            <small class="p-error block"
              *ngIf="addQuizGroup.get('option4')?.invalid  && addQuizGroup.get('option4')?.touched">
              *Option(D) is required</small>
          </span>
        </div>
        <div class="field mt-2 w-100">
          <label for="title">Answer :</label>
          <span class="d-flex">
            <div *ngFor="let data of answersArray" class="p-2">
              <label>
                <input type="checkbox" (change)="onChange(data.name,$event.target)">
                {{ data.name }}
              </label>
            </div>
            <small class="p-error block"
              *ngIf="addQuizGroup.get('answer')?.invalid && addQuizGroup.get('answer')?.touched">
              Answer is required
            </small>
          </span>
        </div>

      </div>
      <div class="d-flex justify-content-between mt-2">
        <button (click)="addCancel()" type="button" class="btn btn-dark"><i
            class="pi pi-delete-left me-2 cursor-pointer"></i>Cancel</button>
        <button [disabled]="addQuizGroup.invalid" type="button" class="btn btn-success me-2"
          (click)="onSubmitQuestionDetails()"><i class="pi pi-save me-2 cursor-pointer"></i>Save</button>
      </div>
    </form>

  </p-dialog>

  <!-- Add dialog end -->
  <p-toast position="top-right"></p-toast>
</div>
